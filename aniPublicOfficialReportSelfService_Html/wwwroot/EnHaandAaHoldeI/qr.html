<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Aigap QR</title></head><body>
<div style="display:none"><input id=l placeholder="?l=Link..."><input id=i placeholder="&i=Image..."><input id=s placeholder="&s=Space..."><input id=z placeholder="&z=Size...">
<hr/>
<hr/><div id="if1">&lt;iframe src="<a id=lnk target="_blank">&nbsp;</a>" width=<span id="lnkw">150</span> height=<span id="lnkh">150</span> style="border:1">&lt;/iframe></div>
<hr/><div id="if2"></div>
<hr/>
</div>
<a id=urqr target="_blank" style="display:none"></a>
<script src="https://unpkg.com/qr-code-styling@1.5.0/lib/qr-code-styling.js"></script>
<script>
let qr,tm,q=new URLSearchParams(location.search)
if(!q.size) document.body.firstElementChild.style.display=''
else urqr.style.display=''
let lnk=document.getElementById('lnk'),lnkw=document.getElementById('lnkw'),lnkh=document.getElementById('lnkh')
l.value=q.get('l')||'',i.value=q.get('i')||'',s.value=+q.get('s')||0,z.value=q.get('z')||''
let on=()=>{clearTimeout(tm);tm=setTimeout(_=>{
let u=l.value,img=i.value,m=+s.value,w=+z.value||256
let qs='?' + [l,i,s,z].map(e=>e.value&&e.id+'='+encodeURIComponent(e.value)).filter(Boolean).join('&')
urqr.style.margin=m
urqr.href=u;
lnk.href=lnk.innerText=location.pathname+qs
lnkw.innerText = lnkh.innerText = +w +20+ 2*m
if2.innerHTML=if1.innerText
qr=new QRCodeStyling({width:w,height:w,data:u,image:img})
urqr.innerHTML='';qr.append(urqr)
},500)}
on();[l,i,s,z].forEach(e=>e.oninput=on)
</script>
</body></html>
