;/*FB_PKG_DELIM*/

__d("LSGetFirstAvailableAdminMessageCTAID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(a){return b.sequence([function(a){return b.db.table(27).fetchDesc([[[]],"ctaId"]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=b.i64.cast([0,1]):(d=a.item,c[0]=b.i64.add(d.ctaId,b.i64.cast([0,1])))})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxGetFirstAvailableAdminMessageCTAIDStoredProcedure";a.__tables__=["admin_message_ctas"];e.exports=a}),null);
__d("LSApplyAdminMessageCTA",["LSArrayGetObjectAt","LSDeserializeFromJsonIntoDictionaryV2.nop","LSGetFirstAvailableAdminMessageCTAID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetFirstAvailableAdminMessageCTAID")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.db.table(27).put({threadKey:a[0],messageId:a[2],ctaId:d[0],timestampMs:a[1],adClientToken:a[5],adPreferenceUrl:a[6],adHelpUrl:a[7],showAdChoiceIcon:a[8],title:a[3],actionUrl:a[9],adminMessageNicknameParticipantId:a[10],targetId:a[11],targetTitle:a[12],actionContentBlob:a[13]})},function(e){return c.filter(c.db.table(12).fetch([[[a[2]]],"messageId"]),function(b){return a[2]===b.messageId&&c.i64.eq(a[0],b.threadKey)}).next().then(function(a,e){var f=a.done;a=a.value;return f?d[1]=void 0:(e=a.item,c.sequence([function(a){return d[7]=e.metadataDataclass,d[7]!==void 0?c.sequence([function(a){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),d[7]).then(function(a){return a=a,d[8]=a[0],a})},function(a){return d[9]=new c.Map(),d[76]="sticker",d[10]=d[8].get(d[76]),d[10]?d[11]=!1:d[11]=!0,d[11]?0:(d[10]?d[109]=!1:d[109]=!0,d[109]?d[110]=void 0:(d[111]=new c.Map(),d[116]="sticker_pack_id",d[112]=d[10].get(d[116]),d[112]!==void 0?d[111].set(d[116],d[112]):0,d[117]="sticker_id",d[113]=d[10].get(d[117]),d[113]!==void 0?d[111].set(d[117],d[113]):0,d[118]="avatar_style",d[114]=d[10].get(d[118]),d[114]!==void 0?d[111].set(d[118],d[114]):0,d[119]="avatar_revision_id",d[115]=d[10].get(d[119]),d[115]!==void 0?(d[115]!==void 0?d[120]=c.i64.from_string(d[115]):d[120]=void 0,d[111].set(d[119],d[120])):0,d[110]=d[111]),d[9].set(d[76],d[110])),d[77]="word_effects",d[12]=d[8].get(d[77]),d[12]?d[13]=!1:d[13]=!0,d[13]?c.resolve():c.sequence([function(a){return d[12]?d[109]=!1:d[109]=!0,d[109]?c.resolve(d[110]=void 0):c.sequence([function(a){return d[111]=new c.Map(),d[118]="magic_word_offsets",d[112]=d[12].get(d[118]),d[112]?d[113]=!1:d[113]=!0,d[113]?c.resolve():c.sequence([function(a){return d[121]=c.createArray(),d[122]=c.i64.of_int32(d[112].length),c.i64.gt(d[122],c.i64.cast([0,0]))?c.loopAsync(d[122],function(a){return d[123]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[112],d[123]).then(function(a){return a=a,d[124]=a[0],d[125]=a[1],a})},function(a){return d[126]=(d[121].push(d[124]),d[121])}])}):c.resolve()},function(a){return d[111].set(d[118],d[121])}])},function(a){return d[119]="magic_word_lengths",d[114]=d[12].get(d[119]),d[114]?d[115]=!1:d[115]=!0,d[115]?c.resolve():c.sequence([function(a){return d[121]=c.createArray(),d[122]=c.i64.of_int32(d[114].length),c.i64.gt(d[122],c.i64.cast([0,0]))?c.loopAsync(d[122],function(a){return d[123]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[114],d[123]).then(function(a){return a=a,d[124]=a[0],d[125]=a[1],a})},function(a){return d[126]=(d[121].push(d[124]),d[121])}])}):c.resolve()},function(a){return d[111].set(d[119],d[121])}])},function(a){return d[120]="magic_word_emojis",d[116]=d[12].get(d[120]),d[116]?d[117]=!1:d[117]=!0,d[117]?c.resolve():c.sequence([function(a){return d[116]?d[121]=!1:d[121]=!0,d[121]?c.resolve(d[122]=void 0):c.sequence([function(a){return d[123]=c.createArray(),d[124]=c.i64.of_int32(d[116].length),c.i64.gt(d[124],c.i64.cast([0,0]))?c.loopAsync(d[124],function(a){return d[125]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[116],d[125]).then(function(a){return a=a,d[126]=a[0],d[127]=a[1],a})},function(a){return d[128]=(d[123].push(d[126]),d[123])}])}):c.resolve()},function(a){return d[122]=d[123]}])},function(a){return d[111].set(d[120],d[122])}])},function(a){return d[110]=d[111]}])},function(a){return d[9].set(d[77],d[110])}])},function(a){return d[78]="ig_avatar_sticker",d[14]=d[8].get(d[78]),d[14]?d[15]=!1:d[15]=!0,d[15]?0:(d[14]?d[109]=!1:d[109]=!0,d[109]?d[110]=void 0:(d[111]=new c.Map(),d[113]="is_avatar_sticker",d[112]=d[14].get(d[113]),d[112]!==void 0?d[111].set(d[113],d[112]):0,d[110]=d[111]),d[9].set(d[78],d[110])),d[79]="power_up",d[16]=d[8].get(d[79]),d[16]?d[17]=!1:d[17]=!0,d[17]?0:(d[16]?d[109]=!1:d[109]=!0,d[109]?d[110]=void 0:(d[111]=new c.Map(),d[113]="power_up_style",d[112]=d[16].get(d[113]),d[112]!==void 0?d[111].set(d[113],d[112]):0,d[110]=d[111]),d[9].set(d[79],d[110])),d[80]="ai_bot",d[18]=d[8].get(d[80]),d[18]?d[19]=!1:d[19]=!0,d[19]?c.resolve():c.sequence([function(a){return d[18]?d[109]=!1:d[109]=!0,d[109]?c.resolve(d[110]=void 0):c.sequence([function(a){return d[111]=new c.Map(),d[141]="response_id",d[112]=d[18].get(d[141]),d[112]!==void 0?d[111].set(d[141],d[112]):0,d[142]="bot_action",d[113]=d[18].get(d[142]),d[113]!==void 0?d[111].set(d[142],d[113]):0,d[143]="sentiment",d[114]=d[18].get(d[143]),d[114]!==void 0?d[111].set(d[143],d[114]):0,d[144]="sentiment_intensity",d[115]=d[18].get(d[144]),d[115]!==void 0?d[111].set(d[144],d[115]):0,d[145]="imagine_media_id",d[116]=d[18].get(d[145]),d[116]!==void 0?(d[116]!==void 0?d[167]=c.i64.from_string(d[116]):d[167]=void 0,d[111].set(d[145],d[167])):0,d[146]="bot_action_int",d[117]=d[18].get(d[146]),c.i64.neq(d[117],void 0)?d[111].set(d[146],d[117]):0,d[147]="sentiment_int",d[118]=d[18].get(d[147]),c.i64.neq(d[118],void 0)?d[111].set(d[147],d[118]):0,d[148]="sentiment_intensity_int",d[119]=d[18].get(d[148]),c.i64.neq(d[119],void 0)?d[111].set(d[148],d[119]):0,d[149]="bot_invocation_message_id",d[120]=d[18].get(d[149]),d[120]!==void 0?d[111].set(d[149],d[120]):0,d[150]="bot_response_id",d[121]=d[18].get(d[150]),d[121]!==void 0?d[111].set(d[150],d[121]):0,d[151]="bot_invocation_message_otid",d[122]=d[18].get(d[151]),d[122]!==void 0?d[111].set(d[151],d[122]):0,d[152]="bot_invocation_logging_id",d[123]=d[18].get(d[152]),d[123]!==void 0?d[111].set(d[152],d[123]):0,d[153]="bot_invocation_sender_id",d[124]=d[18].get(d[153]),d[124]!==void 0?d[111].set(d[153],d[124]):0,d[154]="is_error",d[125]=d[18].get(d[154]),d[125]!==void 0?d[111].set(d[154],d[125]):0,d[155]="bot_subscription_id",d[126]=d[18].get(d[155]),d[126]!==void 0?(d[126]!==void 0?d[167]=c.i64.from_string(d[126]):d[167]=void 0,d[111].set(d[155],d[167])):0,d[156]="bot_subscription_product_type",d[127]=d[18].get(d[156]),d[127]!==void 0?d[111].set(d[156],d[127]):0,d[157]="bot_response_product_type",d[128]=d[18].get(d[157]),d[128]!==void 0?d[111].set(d[157],d[128]):0,d[158]="original_prompt_text",d[129]=d[18].get(d[158]),d[129]!==void 0?d[111].set(d[158],d[129]):0,d[159]="bot_response_additional_message_otids",d[130]=d[18].get(d[159]),d[130]?d[131]=!1:d[131]=!0,d[131]?c.resolve():c.sequence([function(a){return d[130]?d[167]=!1:d[167]=!0,d[167]?c.resolve(d[168]=void 0):c.sequence([function(a){return d[169]=c.createArray(),d[170]=c.i64.of_int32(d[130].length),c.i64.gt(d[170],c.i64.cast([0,0]))?c.loopAsync(d[170],function(a){return d[171]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[130],d[171]).then(function(a){return a=a,d[172]=a[0],d[173]=a[1],a})},function(a){return d[174]=(d[169].push(d[172]),d[169])}])}):c.resolve()},function(a){return d[168]=d[169]}])},function(a){return d[111].set(d[159],d[168])}])},function(a){return d[160]="imagine_media_info",d[132]=d[18].get(d[160]),d[132]?d[133]=!1:d[133]=!0,d[133]?c.resolve():c.sequence([function(a){return d[132]?d[167]=!1:d[167]=!0,d[167]?c.resolve(d[168]=void 0):c.sequence([function(a){return d[169]=c.createArray(),d[170]=c.i64.of_int32(d[132].length),c.i64.gt(d[170],c.i64.cast([0,0]))?c.loopAsync(d[170],function(a){return d[171]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[132],d[171]).then(function(a){return a=a,d[172]=a[0],d[173]=a[1],a})},function(a){return d[174]=new c.Map(),d[182]="imagine_media_id",d[175]=d[172].get(d[182]),d[175]!==void 0?(d[175]!==void 0?d[189]=c.i64.from_string(d[175]):d[189]=void 0,d[174].set(d[182],d[189])):0,d[183]="editable",d[176]=d[172].get(d[183]),d[176]!==void 0?d[174].set(d[183],d[176]):0,d[184]="animatable",d[177]=d[172].get(d[184]),d[177]!==void 0?d[174].set(d[184],d[177]):0,d[185]="imagineSource",d[178]=d[172].get(d[185]),d[178]!==void 0?d[174].set(d[185],d[178]):0,d[186]="image_source",d[179]=d[172].get(d[186]),d[179]!==void 0?d[174].set(d[186],d[179]):0,d[187]="request_id",d[180]=d[172].get(d[187]),d[180]!==void 0?d[174].set(d[187],d[180]):0,d[188]="response_id",d[181]=d[172].get(d[188]),d[181]!==void 0?d[174].set(d[188],d[181]):0,d[189]=(d[169].push(d[174]),d[169])}])}):c.resolve()},function(a){return d[168]=d[169]}])},function(a){return d[111].set(d[160],d[168])}])},function(a){return d[161]="groups_ugc_metadata",d[134]=d[18].get(d[161]),d[134]?d[135]=!1:d[135]=!0,d[135]?0:(d[134]?d[167]=!1:d[167]=!0,d[167]?d[168]=void 0:(d[169]=new c.Map(),d[171]="share_to_comment_uri",d[170]=d[134].get(d[171]),d[170]!==void 0?d[169].set(d[171],d[170]):0,d[168]=d[169]),d[111].set(d[161],d[168])),d[162]="bot_proactive_message_type",d[136]=d[18].get(d[162]),c.i64.neq(d[136],void 0)?d[111].set(d[162],d[136]):0,d[163]="bot_proactive_nudge_type",d[137]=d[18].get(d[163]),c.i64.neq(d[137],void 0)?d[111].set(d[163],d[137]):0,d[164]="conversation_header",d[138]=d[18].get(d[164]),d[138]!==void 0?d[111].set(d[164],d[138]):0,d[165]="stream_status",d[139]=d[18].get(d[165]),d[139]!==void 0?d[111].set(d[165],d[139]):0,d[166]="stream_status_type",d[140]=d[18].get(d[166]),d[140]!==void 0?d[111].set(d[166],d[140]):0,d[110]=d[111]}])},function(a){return d[9].set(d[80],d[110])}])},function(a){return d[81]="pobox",d[20]=d[8].get(d[81]),d[20]?d[21]=!1:d[21]=!0,d[21]?0:(d[20]?d[109]=!1:d[109]=!0,d[109]?d[110]=void 0:(d[111]=new c.Map(),d[114]="pobox_fbid",d[112]=d[20].get(d[114]),d[112]!==void 0?(d[112]!==void 0?d[116]=c.i64.from_string(d[112]):d[116]=void 0,d[111].set(d[114],d[116])):0,d[115]="pobox_id",d[113]=d[20].get(d[115]),d[113]!==void 0?d[111].set(d[115],d[113]):0,d[110]=d[111]),d[9].set(d[81],d[110])),d[82]="video",d[22]=d[8].get(d[82]),d[22]?d[23]=!1:d[23]=!0,d[23]?0:(d[22]?d[109]=!1:d[109]=!0,d[109]?d[110]=void 0:(d[111]=new c.Map(),d[113]="unified_upload_mos",d[112]=d[22].get(d[113]),d[112]!==void 0?d[111].set(d[113],d[112]):0,d[110]=d[111]),d[9].set(d[82],d[110])),d[83]="text_translation",d[24]=d[8].get(d[83]),d[24]?d[25]=!1:d[25]=!0,d[25]?0:(d[24]?d[109]=!1:d[109]=!0,d[109]?d[110]=void 0:(d[111]=new c.Map(),d[115]="translated_text",d[112]=d[24].get(d[115]),d[112]!==void 0?d[111].set(d[115],d[112]):0,d[116]="text_dialect",d[113]=d[24].get(d[116]),d[113]!==void 0?d[111].set(d[116],d[113]):0,d[117]="translated_text_dialect",d[114]=d[24].get(d[117]),d[114]!==void 0?d[111].set(d[117],d[114]):0,d[110]=d[111]),d[9].set(d[83],d[110])),d[84]="memories",d[26]=d[8].get(d[84]),d[26]?d[27]=!1:d[27]=!0,d[27]?c.resolve():c.sequence([function(a){return d[26]?d[109]=!1:d[109]=!0,d[109]?c.resolve(d[110]=void 0):c.sequence([function(a){return d[111]=new c.Map(),d[119]="original_message_id",d[112]=d[26].get(d[119]),d[112]!==void 0?d[111].set(d[119],d[112]):0,d[120]="original_message_creation_ts",d[113]=d[26].get(d[120]),d[113]!==void 0?(d[113]!==void 0?d[125]=c.i64.from_string(d[113]):d[125]=void 0,d[111].set(d[120],d[125])):0,d[121]="memory_server_id",d[114]=d[26].get(d[121]),d[114]!==void 0?(d[114]!==void 0?d[125]=c.i64.from_string(d[114]):d[125]=void 0,d[111].set(d[121],d[125])):0,d[122]="memory_template_type",d[115]=d[26].get(d[122]),d[115]!==void 0?d[111].set(d[122],d[115]):0,d[123]="memory_context_messages",d[116]=d[26].get(d[123]),d[116]?d[117]=!1:d[117]=!0,d[117]?c.resolve():c.sequence([function(a){return d[116]?d[125]=!1:d[125]=!0,d[125]?c.resolve(d[126]=void 0):c.sequence([function(a){return d[127]=c.createArray(),d[128]=c.i64.of_int32(d[116].length),c.i64.gt(d[128],c.i64.cast([0,0]))?c.loopAsync(d[128],function(a){return d[129]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[116],d[129]).then(function(a){return a=a,d[130]=a[0],d[131]=a[1],a})},function(a){return d[132]=new c.Map(),d[137]="sender_id",d[133]=d[130].get(d[137]),d[133]!==void 0?(d[133]!==void 0?d[140]=c.i64.from_string(d[133]):d[140]=void 0,d[132].set(d[137],d[140])):0,d[138]="message_text",d[134]=d[130].get(d[138]),d[134]!==void 0?d[132].set(d[138],d[134]):0,d[139]="reactions",d[135]=d[130].get(d[139]),d[135]?d[136]=!1:d[136]=!0,d[136]?c.resolve():c.sequence([function(a){return d[135]?d[140]=!1:d[140]=!0,d[140]?c.resolve(d[141]=void 0):c.sequence([function(a){return d[142]=c.createArray(),d[143]=c.i64.of_int32(d[135].length),c.i64.gt(d[143],c.i64.cast([0,0]))?c.loopAsync(d[143],function(a){return d[144]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[135],d[144]).then(function(a){return a=a,d[145]=a[0],d[146]=a[1],a})},function(a){return d[147]=(d[142].push(d[145]),d[142])}])}):c.resolve()},function(a){return d[141]=d[142]}])},function(a){return d[132].set(d[139],d[141])}])},function(a){return d[140]=(d[127].push(d[132]),d[127])}])}):c.resolve()},function(a){return d[126]=d[127]}])},function(a){return d[111].set(d[123],d[126])}])},function(a){return d[124]="is_memory_originating_thread",d[118]=d[26].get(d[124]),d[118]!==void 0?d[111].set(d[124],d[118]):0,d[110]=d[111]}])},function(a){return d[9].set(d[84],d[110])}])},function(a){return d[85]="command",d[28]=d[8].get(d[85]),d[28]?d[29]=!1:d[29]=!0,d[29]?0:(d[28]?d[109]=!1:d[109]=!0,d[109]?d[110]=void 0:(d[111]=new c.Map(),d[113]="command_type",d[112]=d[28].get(d[113]),c.i64.neq(d[112],void 0)?d[111].set(d[113],d[112]):0,d[110]=d[111]),d[9].set(d[85],d[110])),d[86]="admin_message",d[30]=d[8].get(d[86]),d[30]?d[31]=!1:d[31]=!0,d[31]?0:(d[30]?d[109]=!1:d[109]=!0,d[109]?d[110]=void 0:(d[111]=new c.Map(),d[123]="ad_client_token",d[112]=d[30].get(d[123]),d[112]!==void 0?d[111].set(d[123],d[112]):0,d[124]="ad_preference_url",d[113]=d[30].get(d[124]),d[113]!==void 0?d[111].set(d[124],d[113]):0,d[125]="ad_help_url",d[114]=d[30].get(d[125]),d[114]!==void 0?d[111].set(d[125],d[114]):0,d[126]="show_ad_choice_icon",d[115]=d[30].get(d[126]),d[115]!==void 0?d[111].set(d[126],d[115]):0,d[127]="title",d[116]=d[30].get(d[127]),d[116]!==void 0?d[111].set(d[127],d[116]):0,d[128]="action_url",d[117]=d[30].get(d[128]),d[117]!==void 0?d[111].set(d[128],d[117]):0,d[129]="admin_message_nickname_participant_id",d[118]=d[30].get(d[129]),d[118]!==void 0?(d[118]!==void 0?d[134]=c.i64.from_string(d[118]):d[134]=void 0,d[111].set(d[129],d[134])):0,d[130]="target_id",d[119]=d[30].get(d[130]),d[119]!==void 0?(d[119]!==void 0?d[134]=c.i64.from_string(d[119]):d[134]=void 0,d[111].set(d[130],d[134])):0,d[131]="target_title",d[120]=d[30].get(d[131]),d[120]!==void 0?d[111].set(d[131],d[120]):0,d[132]="identifier_name",d[121]=d[30].get(d[132]),d[121]!==void 0?d[111].set(d[132],d[121]):0,d[133]="inner_message",d[122]=d[30].get(d[133]),d[122]!==void 0?d[111].set(d[133],d[122]):0,d[110]=d[111]),d[9].set(d[86],d[110])),d[87]="misinfo_metadata",d[32]=d[8].get(d[87]),d[32]?d[33]=!1:d[33]=!0,d[33]?0:(d[32]?d[109]=!1:d[109]=!0,d[109]?d[110]=void 0:(d[111]=new c.Map(),d[114]="has_misinfo",d[112]=d[32].get(d[114]),d[112]!==void 0?d[111].set(d[114],d[112]):0,d[115]="misinfo_source",d[113]=d[32].get(d[115]),d[113]!==void 0?d[111].set(d[115],d[113]):0,d[110]=d[111]),d[9].set(d[87],d[110])),d[88]="forwarded_message",d[34]=d[8].get(d[88]),d[34]?d[35]=!1:d[35]=!0,d[35]?0:(d[34]?d[109]=!1:d[109]=!0,d[109]?d[110]=void 0:(d[111]=new c.Map(),d[114]="forwarded_from_thread_name",d[112]=d[34].get(d[114]),d[112]!==void 0?d[111].set(d[114],d[112]):0,d[115]="forwarded_from_thread_url",d[113]=d[34].get(d[115]),d[113]!==void 0?d[111].set(d[115],d[113]):0,d[110]=d[111]),d[9].set(d[88],d[110])),d[89]="ai_metadata",d[36]=d[8].get(d[89]),d[36]?d[37]=!1:d[37]=!0,d[37]?0:(d[36]?d[109]=!1:d[109]=!0,d[109]?d[110]=void 0:(d[111]=new c.Map(),d[118]="is_ai_generated",d[112]=d[36].get(d[118]),d[112]!==void 0?d[111].set(d[118],d[112]):0,d[119]="gen_ai_integrity_ent_id",d[113]=d[36].get(d[119]),d[113]!==void 0?(d[113]!==void 0?d[124]=c.i64.from_string(d[113]):d[124]=void 0,d[111].set(d[119],d[124])):0,d[120]="ai_product",d[114]=d[36].get(d[120]),d[114]!==void 0?d[111].set(d[120],d[114]):0,d[121]="original_prompt_text",d[115]=d[36].get(d[121]),d[115]!==void 0?d[111].set(d[121],d[115]):0,d[122]="imagine_intent_feature",d[116]=d[36].get(d[122]),d[116]!==void 0?d[111].set(d[122],d[116]):0,d[123]="imagine_media_id",d[117]=d[36].get(d[123]),d[117]!==void 0?(d[117]!==void 0?d[124]=c.i64.from_string(d[117]):d[124]=void 0,d[111].set(d[123],d[124])):0,d[110]=d[111]),d[9].set(d[89],d[110])),d[90]="encrypted_message",d[38]=d[8].get(d[90]),d[38]?d[39]=!1:d[39]=!0,d[39]?c.resolve():c.sequence([function(a){return d[38]?d[109]=!1:d[109]=!0,d[109]?c.resolve(d[110]=void 0):c.sequence([function(a){return d[111]=new c.Map(),d[119]="thread_id",d[112]=d[38].get(d[119]),d[112]!==void 0?d[111].set(d[119],d[112]):0,d[120]="offline_threading_id",d[113]=d[38].get(d[120]),d[113]!==void 0?d[111].set(d[120],d[113]):0,d[121]="toplevel_payload",d[114]=d[38].get(d[121]),d[114]?d[115]=!1:d[115]=!0,d[115]?0:(d[124]=new c.Map(),d[130]="encrypted_payload",d[125]=d[114].get(d[130]),d[125]!==void 0?d[124].set(d[130],d[125]):0,d[131]="payloadTimestampMs",d[126]=d[114].get(d[131]),d[126]!==void 0?d[124].set(d[131],c.i64.from_string(d[126])):0,d[132]="encryption_version",d[127]=d[114].get(d[132]),c.i64.neq(d[127],void 0)?d[124].set(d[132],d[127]):0,d[133]="epoch_id",d[128]=d[114].get(d[133]),d[128]!==void 0?d[124].set(d[133],c.i64.from_string(d[128])):0,d[134]="epoch_anon_id",d[129]=d[114].get(d[134]),d[129]!==void 0?d[124].set(d[134],d[129]):0,d[111].set(d[121],d[124])),d[122]="supplemental_payloads",d[116]=d[38].get(d[122]),d[116]?d[117]=!1:d[117]=!0,d[117]?c.resolve():c.sequence([function(a){return d[124]=c.createArray(),d[125]=c.i64.of_int32(d[116].length),c.i64.gt(d[125],c.i64.cast([0,0]))?c.loopAsync(d[125],function(a){return d[126]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[116],d[126]).then(function(a){return a=a,d[127]=a[0],d[128]=a[1],a})},function(a){return d[129]=new c.Map(),d[134]="encrypted_supplemental_key",d[130]=d[127].get(d[134]),d[130]!==void 0?d[129].set(d[134],d[130]):0,d[135]="supplemental_key_ciphertext",d[131]=d[127].get(d[135]),d[131]!==void 0?d[129].set(d[135],d[131]):0,d[136]="encrypted_supplemental_payload",d[132]=d[127].get(d[136]),d[132]?d[133]=!1:d[133]=!0,d[133]?0:(d[137]=new c.Map(),d[143]="encrypted_payload",d[138]=d[132].get(d[143]),d[138]!==void 0?d[137].set(d[143],d[138]):0,d[144]="payloadTimestampMs",d[139]=d[132].get(d[144]),d[139]!==void 0?d[137].set(d[144],c.i64.from_string(d[139])):0,d[145]="encryption_version",d[140]=d[132].get(d[145]),c.i64.neq(d[140],void 0)?d[137].set(d[145],d[140]):0,d[146]="epoch_id",d[141]=d[132].get(d[146]),d[141]!==void 0?d[137].set(d[146],c.i64.from_string(d[141])):0,d[147]="epoch_anon_id",d[142]=d[132].get(d[147]),d[142]!==void 0?d[137].set(d[147],d[142]):0,d[129].set(d[136],d[137])),d[137]=(d[124].push(d[129]),d[124])}])}):c.resolve()},function(a){return d[111].set(d[122],d[124])}])},function(a){return d[123]="is_open_eb",d[118]=d[38].get(d[123]),d[118]!==void 0?d[111].set(d[123],d[118]):0,d[110]=d[111]}])},function(a){return d[9].set(d[90],d[110])}])},function(a){return d[91]="rich_text",d[40]=d[8].get(d[91]),d[40]?d[41]=!1:d[41]=!0,d[41]?0:(d[40]?d[109]=!1:d[109]=!0,d[109]?d[110]=void 0:(d[111]=new c.Map(),d[113]="rich_text_format_type",d[112]=d[40].get(d[113]),c.i64.neq(d[112],void 0)?d[111].set(d[113],d[112]):0,d[110]=d[111]),d[9].set(d[91],d[110])),d[92]="content_logging_metadata",d[42]=d[8].get(d[92]),d[42]?d[43]=!1:d[43]=!0,d[43]?c.resolve():c.sequence([function(a){return d[42]?d[109]=!1:d[109]=!0,d[109]?c.resolve(d[110]=void 0):c.sequence([function(a){return d[111]=new c.Map(),d[122]="hashed_content",d[112]=d[42].get(d[122]),d[112]!==void 0?d[111].set(d[122],d[112]):0,d[123]="hashed_product_extras",d[113]=d[42].get(d[123]),d[113]!==void 0?d[111].set(d[123],d[113]):0,d[124]="client_metadata",d[114]=d[42].get(d[124]),d[114]?d[115]=!1:d[115]=!0,d[115]?c.resolve():c.sequence([function(a){return d[114]?d[128]=!1:d[128]=!0,d[128]?c.resolve(d[129]=void 0):c.sequence([function(a){return d[130]=d[114].get("__typename"),d[130]==="XMSGStoriesClientMetadata"?c.resolve((d[132]=new c.Map(),d[134]="story_reply_type",d[133]=d[114].get(d[134]),d[133]!==void 0?d[132].set(d[134],d[133]):0,d[131]=d[132])):c.sequence([function(a){return d[132]=new c.Map(),d[133]=d[114].keys(),d[134]=c.i64.of_int32(d[133].length),c.i64.gt(d[134],c.i64.cast([0,0]))?c.loopAsync(d[134],function(a){return d[135]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[133],d[135]).then(function(a){return a=a,d[136]=a[0],d[137]=a[1],a})},function(a){return d[138]=d[114].get(d[136]),d[132].set(d[136],d[138])}])}):c.resolve()},function(a){return d[131]=d[132]}])},function(a){return d[131].set("__typename",d[130]),d[129]=d[131]}])},function(a){return d[111].set(d[124],d[129])}])},function(a){return d[125]="client_extras",d[116]=d[42].get(d[125]),d[116]?d[117]=!1:d[117]=!0,d[117]?c.resolve():c.sequence([function(a){return d[116]?d[128]=!1:d[128]=!0,d[128]?c.resolve(d[129]=void 0):c.sequence([function(a){return d[130]=d[116].get("__typename"),d[130]==="XMSGMarketplaceClientExtras"?c.resolve((d[132]=new c.Map(),d[140]="initial_clicked_component",d[133]=d[116].get(d[140]),d[133]!==void 0?d[132].set(d[140],d[133]):0,d[141]="initial_tracking",d[134]=d[116].get(d[141]),d[134]!==void 0?d[132].set(d[141],d[134]):0,d[142]="referral_surface",d[135]=d[116].get(d[142]),d[135]!==void 0?d[132].set(d[142],d[135]):0,d[143]="referral_story_type",d[136]=d[116].get(d[143]),d[136]!==void 0?d[132].set(d[143],d[136]):0,d[144]="referral_ui_component",d[137]=d[116].get(d[144]),d[137]!==void 0?d[132].set(d[144],d[137]):0,d[145]="surface",d[138]=d[116].get(d[145]),d[138]!==void 0?d[132].set(d[145],d[138]):0,d[146]="ui_component",d[139]=d[116].get(d[146]),d[139]!==void 0?d[132].set(d[146],d[139]):0,d[131]=d[132])):c.sequence([function(a){return d[132]=new c.Map(),d[133]=d[116].keys(),d[134]=c.i64.of_int32(d[133].length),c.i64.gt(d[134],c.i64.cast([0,0]))?c.loopAsync(d[134],function(a){return d[135]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[133],d[135]).then(function(a){return a=a,d[136]=a[0],d[137]=a[1],a})},function(a){return d[138]=d[116].get(d[136]),d[132].set(d[136],d[138])}])}):c.resolve()},function(a){return d[131]=d[132]}])},function(a){return d[131].set("__typename",d[130]),d[129]=d[131]}])},function(a){return d[111].set(d[125],d[129])}])},function(a){return d[126]="containing_post",d[118]=d[42].get(d[126]),d[118]?d[119]=!1:d[119]=!0,d[119]?c.resolve():c.sequence([function(a){return d[118]?d[128]=!1:d[128]=!0,d[128]?c.resolve(d[129]=void 0):c.sequence([function(a){return d[130]=new c.Map(),d[138]="key_type",d[131]=d[118].get(d[138]),d[131]!==void 0?d[130].set(d[138],d[131]):0,d[139]="fb_post_type",d[132]=d[118].get(d[139]),d[132]?d[133]=!1:d[133]=!0,d[133]?c.resolve():c.sequence([function(a){return d[132]?d[142]=!1:d[142]=!0,d[142]?c.resolve(d[143]=void 0):c.sequence([function(a){return d[144]=c.createArray(),d[145]=c.i64.of_int32(d[132].length),c.i64.gt(d[145],c.i64.cast([0,0]))?c.loopAsync(d[145],function(a){return d[146]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[132],d[146]).then(function(a){return a=a,d[147]=a[0],d[148]=a[1],a})},function(a){return d[149]=(d[144].push(d[147]),d[144])}])}):c.resolve()},function(a){return d[143]=d[144]}])},function(a){return d[130].set(d[139],d[143])}])},function(a){return d[140]="photos",d[134]=d[118].get(d[140]),d[134]?d[135]=!1:d[135]=!0,d[135]?c.resolve():c.sequence([function(a){return d[134]?d[142]=!1:d[142]=!0,d[142]?c.resolve(d[143]=void 0):c.sequence([function(a){return d[144]=c.createArray(),d[145]=c.i64.of_int32(d[134].length),c.i64.gt(d[145],c.i64.cast([0,0]))?c.loopAsync(d[145],function(a){return d[146]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[134],d[146]).then(function(a){return a=a,d[147]=a[0],d[148]=a[1],a})},function(a){return d[149]=new c.Map(),d[151]="key_type",d[150]=d[147].get(d[151]),d[150]!==void 0?d[149].set(d[151],d[150]):0,d[152]=(d[144].push(d[149]),d[144])}])}):c.resolve()},function(a){return d[143]=d[144]}])},function(a){return d[130].set(d[140],d[143])}])},function(a){return d[141]="videos",d[136]=d[118].get(d[141]),d[136]?d[137]=!1:d[137]=!0,d[137]?c.resolve():c.sequence([function(a){return d[136]?d[142]=!1:d[142]=!0,d[142]?c.resolve(d[143]=void 0):c.sequence([function(a){return d[144]=c.createArray(),d[145]=c.i64.of_int32(d[136].length),c.i64.gt(d[145],c.i64.cast([0,0]))?c.loopAsync(d[145],function(a){return d[146]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[136],d[146]).then(function(a){return a=a,d[147]=a[0],d[148]=a[1],a})},function(a){return d[149]=new c.Map(),d[151]="key_type",d[150]=d[147].get(d[151]),d[150]!==void 0?d[149].set(d[151],d[150]):0,d[152]=(d[144].push(d[149]),d[144])}])}):c.resolve()},function(a){return d[143]=d[144]}])},function(a){return d[130].set(d[141],d[143])}])},function(a){return d[129]=d[130]}])},function(a){return d[111].set(d[126],d[129])}])},function(a){return d[127]="metadata",d[120]=d[42].get(d[127]),d[120]?d[121]=!1:d[121]=!0,d[121]?c.resolve():c.sequence([function(a){return d[120]?d[128]=!1:d[128]=!0,d[128]?c.resolve(d[129]=void 0):c.sequence([function(a){return d[130]=d[120].get("__typename"),d[130]==="XMSGGroupsContentLoggingMetadata"?c.resolve((d[132]=new c.Map(),d[134]="num_members",d[133]=d[120].get(d[134]),c.i64.neq(d[133],void 0)?d[132].set(d[134],d[133]):0,d[131]=d[132])):c.sequence([function(a){return d[130]==="XMSGStoriesContentLoggingMetadata"?c.resolve((d[133]=new c.Map(),d[138]="author",d[134]=d[120].get(d[138]),d[134]?d[135]=!1:d[135]=!0,d[135]?0:(d[134]?d[141]=!1:d[141]=!0,d[141]?d[142]=void 0:(d[143]=new c.Map(),d[146]="profile",d[144]=d[134].get(d[146]),d[144]?d[145]=!1:d[145]=!0,d[145]?0:(d[144]?d[147]=!1:d[147]=!0,d[147]?d[148]=void 0:(d[149]=new c.Map(),d[151]="id",d[150]=d[144].get(d[151]),d[150]!==void 0?d[149].set(d[151],d[150]):0,d[148]=d[149]),d[143].set(d[146],d[148])),d[142]=d[143]),d[133].set(d[138],d[142])),d[139]="post_source",d[136]=d[120].get(d[139]),d[136]!==void 0?d[133].set(d[139],d[136]):0,d[140]="story_type",d[137]=d[120].get(d[140]),d[137]!==void 0?d[133].set(d[140],d[137]):0,d[132]=d[133])):c.sequence([function(a){return d[133]=new c.Map(),d[134]=d[120].keys(),d[135]=c.i64.of_int32(d[134].length),c.i64.gt(d[135],c.i64.cast([0,0]))?c.loopAsync(d[135],function(a){return d[136]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[134],d[136]).then(function(a){return a=a,d[137]=a[0],d[138]=a[1],a})},function(a){return d[139]=d[120].get(d[137]),d[133].set(d[137],d[139])}])}):c.resolve()},function(a){return d[132]=d[133]}])},function(a){return d[131]=d[132]}])},function(a){return d[131].set("__typename",d[130]),d[129]=d[131]}])},function(a){return d[111].set(d[127],d[129])}])},function(a){return d[110]=d[111]}])},function(a){return d[9].set(d[92],d[110])}])},function(a){return d[93]="suggested_moderation_actions",d[44]=d[8].get(d[93]),d[44]?d[45]=!1:d[45]=!0,d[45]?c.resolve():c.sequence([function(a){return d[44]?d[109]=!1:d[109]=!0,d[109]?c.resolve(d[110]=void 0):c.sequence([function(a){return d[111]=new c.Map(),d[115]="suggested_moderation_actions_list",d[112]=d[44].get(d[115]),d[112]?d[113]=!1:d[113]=!0,d[113]?c.resolve():c.sequence([function(a){return d[112]?d[117]=!1:d[117]=!0,d[117]?c.resolve(d[118]=void 0):c.sequence([function(a){return d[119]=new c.Map(),d[122]="suggested_moderation_actions",d[120]=d[112].get(d[122]),d[120]?d[121]=!1:d[121]=!0,d[121]?c.resolve():c.sequence([function(a){return d[120]?d[123]=!1:d[123]=!0,d[123]?c.resolve(d[124]=void 0):c.sequence([function(a){return d[125]=c.createArray(),d[126]=c.i64.of_int32(d[120].length),c.i64.gt(d[126],c.i64.cast([0,0]))?c.loopAsync(d[126],function(a){return d[127]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[120],d[127]).then(function(a){return a=a,d[128]=a[0],d[129]=a[1],a})},function(a){return d[130]=new c.Map(),d[133]="primary_action",d[131]=d[128].get(d[133]),d[131]!==void 0?d[130].set(d[133],d[131]):0,d[134]="chained_actions",d[132]=d[128].get(d[134]),d[132]!==void 0?d[130].set(d[134],d[132]):0,d[135]=(d[125].push(d[130]),d[125])}])}):c.resolve()},function(a){return d[124]=d[125]}])},function(a){return d[119].set(d[122],d[124])}])},function(a){return d[118]=d[119]}])},function(a){return d[111].set(d[115],d[118])}])},function(a){return d[116]="suggested_moderation_actions_json",d[114]=d[44].get(d[116]),d[114]!==void 0?d[111].set(d[116],d[114]):0,d[110]=d[111]}])},function(a){return d[9].set(d[93],d[110])}])},function(a){return d[94]="highlights_tab_custom_card_metadata",d[46]=d[8].get(d[94]),d[46]?d[47]=!1:d[47]=!0,d[47]?0:(d[46]?d[109]=!1:d[109]=!0,d[109]?d[110]=void 0:(d[111]=new c.Map(),d[114]="is_custom_card",d[112]=d[46].get(d[114]),d[112]!==void 0?d[111].set(d[114],d[112]):0,d[115]="moment",d[113]=d[46].get(d[115]),d[113]!==void 0?d[111].set(d[115],d[113]):0,d[110]=d[111]),d[9].set(d[94],d[110])),d[95]="highlights_tab_metadata",d[48]=d[8].get(d[95]),d[48]?d[49]=!1:d[49]=!0,d[49]?c.resolve():c.sequence([function(a){return d[48]?d[109]=!1:d[109]=!0,d[109]?c.resolve(d[110]=void 0):c.sequence([function(a){return d[111]=new c.Map(),d[117]="reply_source_type",d[112]=d[48].get(d[117]),d[112]!==void 0?d[111].set(d[117],d[112]):0,d[118]="reply_metadata",d[113]=d[48].get(d[118]),d[113]?d[114]=!1:d[114]=!0,d[114]?c.resolve():c.sequence([function(a){return d[113]?d[120]=!1:d[120]=!0,d[120]?c.resolve(d[121]=void 0):c.sequence([function(a){return d[122]=d[113].get("__typename"),d[122]==="XMSGHighlightsTabBirthdayReplyMetadata"?c.resolve((d[124]=new c.Map(),d[126]="birthday_age",d[125]=d[113].get(d[126]),c.i64.neq(d[125],void 0)?d[124].set(d[126],d[125]):0,d[123]=d[124])):c.sequence([function(a){return d[122]==="XMSGHighlightsTabAttributionReplyMetadata"?c.resolve((d[125]=new c.Map(),d[127]="entry_point",d[126]=d[113].get(d[127]),c.i64.neq(d[126],void 0)?d[125].set(d[127],d[126]):0,d[124]=d[125])):c.sequence([function(a){return d[125]=new c.Map(),d[126]=d[113].keys(),d[127]=c.i64.of_int32(d[126].length),c.i64.gt(d[127],c.i64.cast([0,0]))?c.loopAsync(d[127],function(a){return d[128]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[126],d[128]).then(function(a){return a=a,d[129]=a[0],d[130]=a[1],a})},function(a){return d[131]=d[113].get(d[129]),d[125].set(d[129],d[131])}])}):c.resolve()},function(a){return d[124]=d[125]}])},function(a){return d[123]=d[124]}])},function(a){return d[123].set("__typename",d[122]),d[121]=d[123]}])},function(a){return d[111].set(d[118],d[121])}])},function(a){return d[119]="moment_card_metadata",d[115]=d[48].get(d[119]),d[115]?d[116]=!1:d[116]=!0,d[116]?0:(d[115]?d[120]=!1:d[120]=!0,d[120]?d[121]=void 0:(d[122]=new c.Map(),d[124]="moment_card_type",d[123]=d[115].get(d[124]),d[123]!==void 0?d[122].set(d[124],d[123]):0,d[121]=d[122]),d[111].set(d[119],d[121])),d[110]=d[111]}])},function(a){return d[9].set(d[95],d[110])}])},function(a){return d[96]="business_thread_response_feedback",d[50]=d[8].get(d[96]),d[50]?d[51]=!1:d[51]=!0,d[51]?0:(d[50]?d[109]=!1:d[109]=!0,d[109]?d[110]=void 0:(d[111]=new c.Map(),d[113]="is_feedback_button_enabled_for_message",d[112]=d[50].get(d[113]),d[112]!==void 0?d[111].set(d[113],d[112]):0,d[110]=d[111]),d[9].set(d[96],d[110])),d[97]="live_shopping_metadata",d[52]=d[8].get(d[97]),d[52]?d[53]=!1:d[53]=!0,d[53]?0:(d[52]?d[109]=!1:d[109]=!0,d[109]?d[110]=void 0:(d[111]=new c.Map(),d[113]="referral_post_id",d[112]=d[52].get(d[113]),d[112]!==void 0?d[111].set(d[113],d[112]):0,d[110]=d[111]),d[9].set(d[97],d[110])),d[98]="reply_metadata",d[54]=d[8].get(d[98]),d[54]?d[55]=!1:d[55]=!0,d[55]?0:(d[54]?d[109]=!1:d[109]=!0,d[109]?d[110]=void 0:(d[111]=new c.Map(),d[113]="is_markdown",d[112]=d[54].get(d[113]),d[112]!==void 0?d[111].set(d[113],d[112]):0,d[110]=d[111]),d[9].set(d[98],d[110])),d[99]="mustache_cta",d[56]=d[8].get(d[99]),d[56]?d[57]=!1:d[57]=!0,d[57]?0:(d[56]?d[109]=!1:d[109]=!0,d[109]?d[110]=void 0:(d[111]=new c.Map(),d[115]="cta_type",d[112]=d[56].get(d[115]),d[112]!==void 0?d[111].set(d[115],d[112]):0,d[116]="title",d[113]=d[56].get(d[116]),d[113]!==void 0?d[111].set(d[116],d[113]):0,d[117]="action_url",d[114]=d[56].get(d[117]),d[114]!==void 0?d[111].set(d[117],d[114]):0,d[110]=d[111]),d[9].set(d[99],d[110])),d[100]="inline_entities",d[58]=d[8].get(d[100]),d[58]?d[59]=!1:d[59]=!0,d[59]?c.resolve():c.sequence([function(a){return d[58]?d[109]=!1:d[109]=!0,d[109]?c.resolve(d[110]=void 0):c.sequence([function(a){return d[111]=new c.Map(),d[116]="entities",d[112]=d[58].get(d[116]),d[112]?d[113]=!1:d[113]=!0,d[113]?c.resolve():c.sequence([function(a){return d[119]=c.createArray(),d[120]=c.i64.of_int32(d[112].length),c.i64.gt(d[120],c.i64.cast([0,0]))?c.loopAsync(d[120],function(a){return d[121]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[112],d[121]).then(function(a){return a=a,d[122]=a[0],d[123]=a[1],a})},function(a){return d[124]=new c.Map(),d[133]="offset",d[125]=d[122].get(d[133]),c.i64.neq(d[125],void 0)?d[124].set(d[133],d[125]):0,d[134]="length",d[126]=d[122].get(d[134]),c.i64.neq(d[126],void 0)?d[124].set(d[134],d[126]):0,d[135]="type",d[127]=d[122].get(d[135]),d[127]!==void 0?d[124].set(d[135],d[127]):0,d[136]="metadata",d[128]=d[122].get(d[136]),d[128]?d[129]=!1:d[129]=!0,d[129]?c.resolve():c.sequence([function(a){return d[128]?d[140]=!1:d[140]=!0,d[140]?c.resolve(d[141]=void 0):c.sequence([function(a){return d[142]=new c.Map(),d[149]="search_query",d[143]=d[128].get(d[149]),d[143]!==void 0?d[142].set(d[149],d[143]):0,d[150]="reminder_topic",d[144]=d[128].get(d[150]),d[144]!==void 0?d[142].set(d[150],d[144]):0,d[151]="thread_surfing_metadata",d[145]=d[128].get(d[151]),d[145]?d[146]=!1:d[146]=!0,d[146]?c.resolve():c.sequence([function(a){return d[145]?d[153]=!1:d[153]=!0,d[153]?c.resolve(d[154]=void 0):c.sequence([function(a){return d[155]=new c.Map(),d[161]="matched_entity",d[156]=d[145].get(d[161]),d[156]!==void 0?d[155].set(d[161],d[156]):0,d[162]="prompts",d[157]=d[145].get(d[162]),d[157]?d[158]=!1:d[158]=!0,d[158]?c.resolve():c.sequence([function(a){return d[164]=c.createArray(),d[165]=c.i64.of_int32(d[157].length),c.i64.gt(d[165],c.i64.cast([0,0]))?c.loopAsync(d[165],function(a){return d[166]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[157],d[166]).then(function(a){return a=a,d[167]=a[0],d[168]=a[1],a})},function(a){return d[169]=(d[164].push(d[167]),d[164])}])}):c.resolve()},function(a){return d[155].set(d[162],d[164])}])},function(a){return d[163]="thread_surfing_prompts",d[159]=d[145].get(d[163]),d[159]?d[160]=!1:d[160]=!0,d[160]?c.resolve():c.sequence([function(a){return d[159]?d[164]=!1:d[164]=!0,d[164]?c.resolve(d[165]=void 0):c.sequence([function(a){return d[166]=c.createArray(),d[167]=c.i64.of_int32(d[159].length),c.i64.gt(d[167],c.i64.cast([0,0]))?c.loopAsync(d[167],function(a){return d[168]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[159],d[168]).then(function(a){return a=a,d[169]=a[0],d[170]=a[1],a})},function(a){return d[171]=new c.Map(),d[174]="prompt",d[172]=d[169].get(d[174]),d[172]!==void 0?d[171].set(d[174],d[172]):0,d[175]="prompt_id",d[173]=d[169].get(d[175]),d[173]!==void 0?d[171].set(d[175],d[173]):0,d[176]=(d[166].push(d[171]),d[166])}])}):c.resolve()},function(a){return d[165]=d[166]}])},function(a){return d[155].set(d[163],d[165])}])},function(a){return d[154]=d[155]}])},function(a){return d[142].set(d[151],d[154])}])},function(a){return d[152]="ai_lookup_metadata",d[147]=d[128].get(d[152]),d[147]?d[148]=!1:d[148]=!0,d[148]?0:(d[147]?d[153]=!1:d[153]=!0,d[153]?d[154]=void 0:(d[155]=new c.Map(),d[158]="entity_type",d[156]=d[147].get(d[158]),d[156]!==void 0?d[155].set(d[158],d[156]):0,d[159]="action_type",d[157]=d[147].get(d[159]),d[157]!==void 0?d[155].set(d[159],d[157]):0,d[154]=d[155]),d[142].set(d[152],d[154])),d[141]=d[142]}])},function(a){return d[124].set(d[136],d[141])}])},function(a){return d[137]="action_label",d[130]=d[122].get(d[137]),d[130]!==void 0?d[124].set(d[137],d[130]):0,d[138]="context_token",d[131]=d[122].get(d[138]),d[131]!==void 0?d[124].set(d[138],d[131]):0,d[139]="context_token_type",d[132]=d[122].get(d[139]),c.i64.neq(d[132],void 0)?d[124].set(d[139],d[132]):0,d[140]=(d[119].push(d[124]),d[119])}])}):c.resolve()},function(a){return d[111].set(d[116],d[119])}])},function(a){return d[117]="inference_timestamp_ms",d[114]=d[58].get(d[117]),d[114]!==void 0?(d[114]!==void 0?d[119]=c.i64.from_string(d[114]):d[119]=void 0,d[111].set(d[117],d[119])):0,d[118]="inference_model_version",d[115]=d[58].get(d[118]),c.i64.neq(d[115],void 0)?d[111].set(d[118],d[115]):0,d[110]=d[111]}])},function(a){return d[9].set(d[100],d[110])}])},function(a){return d[101]="note_metadata",d[60]=d[8].get(d[101]),d[60]?d[61]=!1:d[61]=!0,d[61]?c.resolve():c.sequence([function(a){return d[60]?d[109]=!1:d[109]=!0,d[109]?c.resolve(d[110]=void 0):c.sequence([function(a){return d[111]=new c.Map(),d[120]="message_type",d[112]=d[60].get(d[120]),d[112]!==void 0?d[111].set(d[120],d[112]):0,d[121]="note_type",d[113]=d[60].get(d[121]),c.i64.neq(d[113],void 0)?d[111].set(d[121],d[113]):0,d[122]="mentions",d[114]=d[60].get(d[122]),d[114]?d[115]=!1:d[115]=!0,d[115]?c.resolve():c.sequence([function(a){return d[126]=c.createArray(),d[127]=c.i64.of_int32(d[114].length),c.i64.gt(d[127],c.i64.cast([0,0]))?c.loopAsync(d[127],function(a){return d[128]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[114],d[128]).then(function(a){return a=a,d[129]=a[0],d[130]=a[1],a})},function(a){return d[131]=new c.Map(),d[134]="offset",d[132]=d[129].get(d[134]),c.i64.neq(d[132],void 0)?d[131].set(d[134],d[132]):0,d[135]="length",d[133]=d[129].get(d[135]),c.i64.neq(d[133],void 0)?d[131].set(d[135],d[133]):0,d[136]=(d[126].push(d[131]),d[126])}])}):c.resolve()},function(a){return d[111].set(d[122],d[126])}])},function(a){return d[123]="expiration_timestamp_ms",d[116]=d[60].get(d[123]),d[116]!==void 0?d[111].set(d[123],c.i64.from_string(d[116])):0,d[124]="note_id",d[117]=d[60].get(d[124]),c.i64.neq(d[117],void 0)?d[111].set(d[124],d[117]):0,d[125]="game_note_info",d[118]=d[60].get(d[125]),d[118]?d[119]=!1:d[119]=!0,d[119]?0:(d[118]?d[126]=!1:d[126]=!0,d[126]?d[127]=void 0:(d[128]=new c.Map(),d[131]="offset",d[129]=d[118].get(d[131]),c.i64.neq(d[129],void 0)?d[128].set(d[131],d[129]):0,d[132]="length",d[130]=d[118].get(d[132]),c.i64.neq(d[130],void 0)?d[128].set(d[132],d[130]):0,d[127]=d[128]),d[111].set(d[125],d[127])),d[110]=d[111]}])},function(a){return d[9].set(d[101],d[110])}])},function(a){return d[102]="ai_bot_summon_metadata",d[62]=d[8].get(d[102]),d[62]?d[63]=!1:d[63]=!0,d[63]?0:(d[62]?d[109]=!1:d[109]=!0,d[109]?d[110]=void 0:(d[111]=new c.Map(),d[116]="is_e2ee_summon_message",d[112]=d[62].get(d[116]),d[112]!==void 0?d[111].set(d[116],d[112]):0,d[117]="thread_session_id",d[113]=d[62].get(d[117]),d[113]!==void 0?d[111].set(d[117],d[113]):0,d[118]="is_subsequent_send",d[114]=d[62].get(d[118]),d[114]!==void 0?d[111].set(d[118],d[114]):0,d[119]="entrypoint",d[115]=d[62].get(d[119]),d[115]!==void 0?d[111].set(d[119],d[115]):0,d[110]=d[111]),d[9].set(d[102],d[110])),d[103]="ai_forwarded_metadata",d[64]=d[8].get(d[103]),d[64]?d[65]=!1:d[65]=!0,d[65]?0:(d[64]?d[109]=!1:d[109]=!0,d[109]?d[110]=void 0:(d[111]=new c.Map(),d[113]="is_generated_by_meta_ai",d[112]=d[64].get(d[113]),d[112]!==void 0?d[111].set(d[113],d[112]):0,d[110]=d[111]),d[9].set(d[103],d[110])),d[104]="transcription_metadata",d[66]=d[8].get(d[104]),d[66]?d[67]=!1:d[67]=!0,d[67]?0:(d[66]?d[109]=!1:d[109]=!0,d[109]?d[110]=void 0:(d[111]=new c.Map(),d[114]="text",d[112]=d[66].get(d[114]),d[112]!==void 0?d[111].set(d[114],d[112]):0,d[115]="status",d[113]=d[66].get(d[115]),d[113]!==void 0?d[111].set(d[115],d[113]):0,d[110]=d[111]),d[9].set(d[104],d[110])),d[105]="image_glyphs_metadata",d[68]=d[8].get(d[105]),d[68]?d[69]=!1:d[69]=!0,d[69]?c.resolve():c.sequence([function(a){return d[68]?d[109]=!1:d[109]=!0,d[109]?c.resolve(d[110]=void 0):c.sequence([function(a){return d[111]=new c.Map(),d[114]="image_glyphs",d[112]=d[68].get(d[114]),d[112]?d[113]=!1:d[113]=!0,d[113]?c.resolve():c.sequence([function(a){return d[115]=c.createArray(),d[116]=c.i64.of_int32(d[112].length),c.i64.gt(d[116],c.i64.cast([0,0]))?c.loopAsync(d[116],function(a){return d[117]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[112],d[117]).then(function(a){return a=a,d[118]=a[0],d[119]=a[1],a})},function(a){return d[120]=new c.Map(),d[128]="offset",d[121]=d[118].get(d[128]),c.i64.neq(d[121],void 0)?d[120].set(d[128],d[121]):0,d[129]="length",d[122]=d[118].get(d[129]),c.i64.neq(d[122],void 0)?d[120].set(d[129],d[122]):0,d[130]="type",d[123]=d[118].get(d[130]),d[123]!==void 0?d[120].set(d[130],d[123]):0,d[131]="unique_identifier",d[124]=d[118].get(d[131]),d[124]!==void 0?d[120].set(d[131],d[124]):0,d[132]="content_description",d[125]=d[118].get(d[132]),d[125]!==void 0?d[120].set(d[132],d[125]):0,d[133]="uniform_type_identifier",d[126]=d[118].get(d[133]),d[126]!==void 0?d[120].set(d[133],d[126]):0,d[134]="fallback_text",d[127]=d[118].get(d[134]),d[127]!==void 0?d[120].set(d[134],d[127]):0,d[135]=(d[115].push(d[120]),d[115])}])}):c.resolve()},function(a){return d[111].set(d[114],d[115])}])},function(a){return d[110]=d[111]}])},function(a){return d[9].set(d[105],d[110])}])},function(a){return d[106]="contextual_menu_actions",d[70]=d[8].get(d[106]),d[70]?d[71]=!1:d[71]=!0,d[71]?c.resolve():c.sequence([function(a){return d[70]?d[109]=!1:d[109]=!0,d[109]?c.resolve(d[110]=void 0):c.sequence([function(a){return d[111]=new c.Map(),d[114]="ai_invocation_options",d[112]=d[70].get(d[114]),d[112]?d[113]=!1:d[113]=!0,d[113]?c.resolve():c.sequence([function(a){return d[112]?d[115]=!1:d[115]=!0,d[115]?c.resolve(d[116]=void 0):c.sequence([function(a){return d[117]=c.createArray(),d[118]=c.i64.of_int32(d[112].length),c.i64.gt(d[118],c.i64.cast([0,0]))?c.loopAsync(d[118],function(a){return d[119]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[112],d[119]).then(function(a){return a=a,d[120]=a[0],d[121]=a[1],a})},function(a){return d[122]=(d[117].push(d[120]),d[117])}])}):c.resolve()},function(a){return d[116]=d[117]}])},function(a){return d[111].set(d[114],d[116])}])},function(a){return d[110]=d[111]}])},function(a){return d[9].set(d[106],d[110])}])},function(a){return d[107]="media_accessibility_metadata",d[72]=d[8].get(d[107]),d[72]?d[73]=!1:d[73]=!0,d[73]?0:(d[72]?d[109]=!1:d[109]=!0,d[109]?d[110]=void 0:(d[111]=new c.Map(),d[113]="alt_text",d[112]=d[72].get(d[113]),d[112]!==void 0?d[111].set(d[113],d[112]):0,d[110]=d[111]),d[9].set(d[107],d[110])),d[108]="oculus_media_context_metadata",d[74]=d[8].get(d[108]),d[74]?d[75]=!1:d[75]=!0,d[75]?0:(d[74]?d[109]=!1:d[109]=!0,d[109]?d[110]=void 0:(d[111]=new c.Map(),d[114]="type",d[112]=d[74].get(d[114]),d[112]!==void 0?d[111].set(d[114],d[112]):0,d[115]="fbid",d[113]=d[74].get(d[115]),d[113]!==void 0?d[111].set(d[115],d[113]):0,d[110]=d[111]),d[9].set(d[108],d[110])),d[6]=d[9]}]):c.resolve((d[8]=new c.Map(),d[6]=d[8]))},function(a){return d[1]=d[6]}]))})},function(e){return d[1]?d[3]=!1:d[3]=!0,d[3]?0:(d[6]=new c.Map(),d[6].set("ad_client_token",a[5]),d[6].set("ad_preference_url",a[6]),d[6].set("ad_help_url",a[7]),d[6].set("show_ad_choice_icon",a[8]),d[6].set("title",a[3]),d[6].set("action_url",a[9]),d[6].set("admin_message_nickname_participant_id",a[10]),d[6].set("target_id",a[11]),d[6].set("target_title",a[12]),d[6].set("identifier_name",void 0),d[1].set("admin_message",d[6])),d[1]?d[4]=!1:d[4]=!0,d[4]?c.resolve(d[5]=void 0):c.sequence([function(a){return d[6]=new c.Map(),d[74]="sticker",d[7]=d[1].get(d[74]),d[7]?d[8]=!1:d[8]=!0,d[8]?0:(d[7]?d[107]=!1:d[107]=!0,d[107]?d[108]=void 0:(d[111]=new c.Map(),d[116]="sticker_pack_id",d[112]=d[7].get(d[116]),d[112]!==void 0?d[111].set(d[116],d[112]):0,d[117]="sticker_id",d[113]=d[7].get(d[117]),d[113]!==void 0?d[111].set(d[117],d[113]):0,d[118]="avatar_style",d[114]=d[7].get(d[118]),d[114]!==void 0?d[111].set(d[118],d[114]):0,d[119]="avatar_revision_id",d[115]=d[7].get(d[119]),c.i64.neq(d[115],void 0)?(c.i64.neq(d[115],void 0)?d[120]=c.i64.to_string(d[115]):d[120]=void 0,d[111].set(d[119],d[120])):0,d[108]=d[111]),d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[74],d[108]):0),d[75]="word_effects",d[9]=d[1].get(d[75]),d[9]?d[10]=!1:d[10]=!0,d[10]?0:(d[9]?d[107]=!1:d[107]=!0,d[107]?d[108]=void 0:(d[111]=new c.Map(),d[118]="magic_word_offsets",d[112]=d[9].get(d[118]),d[112]?d[113]=!1:d[113]=!0,d[113]?0:d[111].set(d[118],d[112]),d[119]="magic_word_lengths",d[114]=d[9].get(d[119]),d[114]?d[115]=!1:d[115]=!0,d[115]?0:d[111].set(d[119],d[114]),d[120]="magic_word_emojis",d[116]=d[9].get(d[120]),d[116]?d[117]=!1:d[117]=!0,d[117]?0:(d[121]=c.i64.of_int32(d[116].length),c.i64.neq(d[121],c.i64.cast([0,0]))?d[111].set(d[120],d[116]):0),d[108]=d[111]),d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[75],d[108]):0),d[76]="ig_avatar_sticker",d[11]=d[1].get(d[76]),d[11]?d[12]=!1:d[12]=!0,d[12]?0:(d[11]?d[107]=!1:d[107]=!0,d[107]?d[108]=void 0:(d[111]=new c.Map(),d[113]="is_avatar_sticker",d[112]=d[11].get(d[113]),d[112]!==void 0?d[111].set(d[113],d[112]):0,d[108]=d[111]),d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[76],d[108]):0),d[77]="power_up",d[13]=d[1].get(d[77]),d[13]?d[14]=!1:d[14]=!0,d[14]?0:(d[13]?d[107]=!1:d[107]=!0,d[107]?d[108]=void 0:(d[111]=new c.Map(),d[113]="power_up_style",d[112]=d[13].get(d[113]),d[112]!==void 0?d[111].set(d[113],d[112]):0,d[108]=d[111]),d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[77],d[108]):0),d[78]="ai_bot",d[15]=d[1].get(d[78]),d[15]?d[16]=!1:d[16]=!0,d[16]?c.resolve():c.sequence([function(a){return d[15]?d[107]=!1:d[107]=!0,d[107]?c.resolve(d[108]=void 0):c.sequence([function(a){return d[111]=new c.Map(),d[141]="response_id",d[112]=d[15].get(d[141]),d[112]!==void 0?d[111].set(d[141],d[112]):0,d[142]="bot_action",d[113]=d[15].get(d[142]),d[113]!==void 0?d[111].set(d[142],d[113]):0,d[143]="sentiment",d[114]=d[15].get(d[143]),d[114]!==void 0?d[111].set(d[143],d[114]):0,d[144]="sentiment_intensity",d[115]=d[15].get(d[144]),d[115]!==void 0?d[111].set(d[144],d[115]):0,d[145]="imagine_media_id",d[116]=d[15].get(d[145]),c.i64.neq(d[116],void 0)?(c.i64.neq(d[116],void 0)?d[167]=c.i64.to_string(d[116]):d[167]=void 0,d[111].set(d[145],d[167])):0,d[146]="bot_action_int",d[117]=d[15].get(d[146]),c.i64.neq(d[117],void 0)?d[111].set(d[146],d[117]):0,d[147]="sentiment_int",d[118]=d[15].get(d[147]),c.i64.neq(d[118],void 0)?d[111].set(d[147],d[118]):0,d[148]="sentiment_intensity_int",d[119]=d[15].get(d[148]),c.i64.neq(d[119],void 0)?d[111].set(d[148],d[119]):0,d[149]="bot_invocation_message_id",d[120]=d[15].get(d[149]),d[120]!==void 0?d[111].set(d[149],d[120]):0,d[150]="bot_response_id",d[121]=d[15].get(d[150]),d[121]!==void 0?d[111].set(d[150],d[121]):0,d[151]="bot_invocation_message_otid",d[122]=d[15].get(d[151]),d[122]!==void 0?d[111].set(d[151],d[122]):0,d[152]="bot_invocation_logging_id",d[123]=d[15].get(d[152]),d[123]!==void 0?d[111].set(d[152],d[123]):0,d[153]="bot_invocation_sender_id",d[124]=d[15].get(d[153]),d[124]!==void 0?d[111].set(d[153],d[124]):0,d[154]="is_error",d[125]=d[15].get(d[154]),d[125]!==void 0?d[111].set(d[154],d[125]):0,d[155]="bot_subscription_id",d[126]=d[15].get(d[155]),c.i64.neq(d[126],void 0)?(c.i64.neq(d[126],void 0)?d[167]=c.i64.to_string(d[126]):d[167]=void 0,d[111].set(d[155],d[167])):0,d[156]="bot_subscription_product_type",d[127]=d[15].get(d[156]),d[127]!==void 0?d[111].set(d[156],d[127]):0,d[157]="bot_response_product_type",d[128]=d[15].get(d[157]),d[128]!==void 0?d[111].set(d[157],d[128]):0,d[158]="original_prompt_text",d[129]=d[15].get(d[158]),d[129]!==void 0?d[111].set(d[158],d[129]):0,d[159]="bot_response_additional_message_otids",d[130]=d[15].get(d[159]),d[130]?d[131]=!1:d[131]=!0,d[131]?0:(d[167]=c.i64.of_int32(d[130].length),c.i64.neq(d[167],c.i64.cast([0,0]))?d[111].set(d[159],d[130]):0),d[160]="imagine_media_info",d[132]=d[15].get(d[160]),d[132]?d[133]=!1:d[133]=!0,d[133]?c.resolve():c.sequence([function(a){return d[132]?d[167]=!1:d[167]=!0,d[167]?c.resolve(d[168]=void 0):c.sequence([function(a){return d[170]=c.createArray(),d[171]=c.i64.of_int32(d[132].length),c.i64.gt(d[171],c.i64.cast([0,0]))?c.loopAsync(d[171],function(a){return d[172]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[132],d[172]).then(function(a){return a=a,d[173]=a[0],d[174]=a[1],a})},function(a){return d[175]=new c.Map(),d[183]="imagine_media_id",d[176]=d[173].get(d[183]),c.i64.neq(d[176],void 0)?(c.i64.neq(d[176],void 0)?d[190]=c.i64.to_string(d[176]):d[190]=void 0,d[175].set(d[183],d[190])):0,d[184]="editable",d[177]=d[173].get(d[184]),d[177]!==void 0?d[175].set(d[184],d[177]):0,d[185]="animatable",d[178]=d[173].get(d[185]),d[178]!==void 0?d[175].set(d[185],d[178]):0,d[186]="imagineSource",d[179]=d[173].get(d[186]),d[179]!==void 0?d[175].set(d[186],d[179]):0,d[187]="image_source",d[180]=d[173].get(d[187]),d[180]!==void 0?d[175].set(d[187],d[180]):0,d[188]="request_id",d[181]=d[173].get(d[188]),d[181]!==void 0?d[175].set(d[188],d[181]):0,d[189]="response_id",d[182]=d[173].get(d[189]),d[182]!==void 0?d[175].set(d[189],d[182]):0,d[190]=(d[170].push(d[175]),d[170])}])}):c.resolve()},function(a){return d[168]=d[170]}])},function(a){return d[169]=c.i64.of_int32(d[168].length),c.i64.neq(d[169],c.i64.cast([0,0]))?d[111].set(d[160],d[168]):0}])},function(a){return d[161]="groups_ugc_metadata",d[134]=d[15].get(d[161]),d[134]?d[135]=!1:d[135]=!0,d[135]?0:(d[134]?d[167]=!1:d[167]=!0,d[167]?d[168]=void 0:(d[171]=new c.Map(),d[173]="share_to_comment_uri",d[172]=d[134].get(d[173]),d[172]!==void 0?d[171].set(d[173],d[172]):0,d[168]=d[171]),d[169]=d[168].keys(),d[170]=c.i64.of_int32(d[169].length),c.i64.neq(d[170],c.i64.cast([0,0]))?d[111].set(d[161],d[168]):0),d[162]="bot_proactive_message_type",d[136]=d[15].get(d[162]),c.i64.neq(d[136],void 0)?d[111].set(d[162],d[136]):0,d[163]="bot_proactive_nudge_type",d[137]=d[15].get(d[163]),c.i64.neq(d[137],void 0)?d[111].set(d[163],d[137]):0,d[164]="conversation_header",d[138]=d[15].get(d[164]),d[138]!==void 0?d[111].set(d[164],d[138]):0,d[165]="stream_status",d[139]=d[15].get(d[165]),d[139]!==void 0?d[111].set(d[165],d[139]):0,d[166]="stream_status_type",d[140]=d[15].get(d[166]),d[140]!==void 0?d[111].set(d[166],d[140]):0,d[108]=d[111]}])},function(a){return d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[78],d[108]):0}])},function(a){return d[79]="pobox",d[17]=d[1].get(d[79]),d[17]?d[18]=!1:d[18]=!0,d[18]?0:(d[17]?d[107]=!1:d[107]=!0,d[107]?d[108]=void 0:(d[111]=new c.Map(),d[114]="pobox_fbid",d[112]=d[17].get(d[114]),c.i64.neq(d[112],void 0)?(c.i64.neq(d[112],void 0)?d[116]=c.i64.to_string(d[112]):d[116]=void 0,d[111].set(d[114],d[116])):0,d[115]="pobox_id",d[113]=d[17].get(d[115]),d[113]!==void 0?d[111].set(d[115],d[113]):0,d[108]=d[111]),d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[79],d[108]):0),d[80]="video",d[19]=d[1].get(d[80]),d[19]?d[20]=!1:d[20]=!0,d[20]?0:(d[19]?d[107]=!1:d[107]=!0,d[107]?d[108]=void 0:(d[111]=new c.Map(),d[113]="unified_upload_mos",d[112]=d[19].get(d[113]),d[112]!==void 0?d[111].set(d[113],d[112]):0,d[108]=d[111]),d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[80],d[108]):0),d[81]="text_translation",d[21]=d[1].get(d[81]),d[21]?d[22]=!1:d[22]=!0,d[22]?0:(d[21]?d[107]=!1:d[107]=!0,d[107]?d[108]=void 0:(d[111]=new c.Map(),d[115]="translated_text",d[112]=d[21].get(d[115]),d[112]!==void 0?d[111].set(d[115],d[112]):0,d[116]="text_dialect",d[113]=d[21].get(d[116]),d[113]!==void 0?d[111].set(d[116],d[113]):0,d[117]="translated_text_dialect",d[114]=d[21].get(d[117]),d[114]!==void 0?d[111].set(d[117],d[114]):0,d[108]=d[111]),d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[81],d[108]):0),d[82]="memories",d[23]=d[1].get(d[82]),d[23]?d[24]=!1:d[24]=!0,d[24]?c.resolve():c.sequence([function(a){return d[23]?d[107]=!1:d[107]=!0,d[107]?c.resolve(d[108]=void 0):c.sequence([function(a){return d[111]=new c.Map(),d[119]="original_message_id",d[112]=d[23].get(d[119]),d[112]!==void 0?d[111].set(d[119],d[112]):0,d[120]="original_message_creation_ts",d[113]=d[23].get(d[120]),c.i64.neq(d[113],void 0)?(c.i64.neq(d[113],void 0)?d[125]=c.i64.to_string(d[113]):d[125]=void 0,d[111].set(d[120],d[125])):0,d[121]="memory_server_id",d[114]=d[23].get(d[121]),c.i64.neq(d[114],void 0)?(c.i64.neq(d[114],void 0)?d[125]=c.i64.to_string(d[114]):d[125]=void 0,d[111].set(d[121],d[125])):0,d[122]="memory_template_type",d[115]=d[23].get(d[122]),d[115]!==void 0?d[111].set(d[122],d[115]):0,d[123]="memory_context_messages",d[116]=d[23].get(d[123]),d[116]?d[117]=!1:d[117]=!0,d[117]?c.resolve():c.sequence([function(a){return d[116]?d[125]=!1:d[125]=!0,d[125]?c.resolve(d[126]=void 0):c.sequence([function(a){return d[128]=c.createArray(),d[129]=c.i64.of_int32(d[116].length),c.i64.gt(d[129],c.i64.cast([0,0]))?c.loopAsync(d[129],function(a){return d[130]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[116],d[130]).then(function(a){return a=a,d[131]=a[0],d[132]=a[1],a})},function(a){return d[133]=new c.Map(),d[138]="sender_id",d[134]=d[131].get(d[138]),c.i64.neq(d[134],void 0)?(c.i64.neq(d[134],void 0)?d[141]=c.i64.to_string(d[134]):d[141]=void 0,d[133].set(d[138],d[141])):0,d[139]="message_text",d[135]=d[131].get(d[139]),d[135]!==void 0?d[133].set(d[139],d[135]):0,d[140]="reactions",d[136]=d[131].get(d[140]),d[136]?d[137]=!1:d[137]=!0,d[137]?0:(d[141]=c.i64.of_int32(d[136].length),c.i64.neq(d[141],c.i64.cast([0,0]))?d[133].set(d[140],d[136]):0),d[141]=(d[128].push(d[133]),d[128])}])}):c.resolve()},function(a){return d[126]=d[128]}])},function(a){return d[127]=c.i64.of_int32(d[126].length),c.i64.neq(d[127],c.i64.cast([0,0]))?d[111].set(d[123],d[126]):0}])},function(a){return d[124]="is_memory_originating_thread",d[118]=d[23].get(d[124]),d[118]!==void 0?d[111].set(d[124],d[118]):0,d[108]=d[111]}])},function(a){return d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[82],d[108]):0}])},function(a){return d[83]="command",d[25]=d[1].get(d[83]),d[25]?d[26]=!1:d[26]=!0,d[26]?0:(d[25]?d[107]=!1:d[107]=!0,d[107]?d[108]=void 0:(d[111]=new c.Map(),d[113]="command_type",d[112]=d[25].get(d[113]),c.i64.neq(d[112],void 0)?d[111].set(d[113],d[112]):0,d[108]=d[111]),d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[83],d[108]):0),d[84]="admin_message",d[27]=d[1].get(d[84]),d[27]?d[28]=!1:d[28]=!0,d[28]?0:(d[27]?d[107]=!1:d[107]=!0,d[107]?d[108]=void 0:(d[111]=new c.Map(),d[123]="ad_client_token",d[112]=d[27].get(d[123]),d[112]!==void 0?d[111].set(d[123],d[112]):0,d[124]="ad_preference_url",d[113]=d[27].get(d[124]),d[113]!==void 0?d[111].set(d[124],d[113]):0,d[125]="ad_help_url",d[114]=d[27].get(d[125]),d[114]!==void 0?d[111].set(d[125],d[114]):0,d[126]="show_ad_choice_icon",d[115]=d[27].get(d[126]),d[115]!==void 0?d[111].set(d[126],d[115]):0,d[127]="title",d[116]=d[27].get(d[127]),d[116]!==void 0?d[111].set(d[127],d[116]):0,d[128]="action_url",d[117]=d[27].get(d[128]),d[117]!==void 0?d[111].set(d[128],d[117]):0,d[129]="admin_message_nickname_participant_id",d[118]=d[27].get(d[129]),c.i64.neq(d[118],void 0)?(c.i64.neq(d[118],void 0)?d[134]=c.i64.to_string(d[118]):d[134]=void 0,d[111].set(d[129],d[134])):0,d[130]="target_id",d[119]=d[27].get(d[130]),c.i64.neq(d[119],void 0)?(c.i64.neq(d[119],void 0)?d[134]=c.i64.to_string(d[119]):d[134]=void 0,d[111].set(d[130],d[134])):0,d[131]="target_title",d[120]=d[27].get(d[131]),d[120]!==void 0?d[111].set(d[131],d[120]):0,d[132]="identifier_name",d[121]=d[27].get(d[132]),d[121]!==void 0?d[111].set(d[132],d[121]):0,d[133]="inner_message",d[122]=d[27].get(d[133]),d[122]!==void 0?d[111].set(d[133],d[122]):0,d[108]=d[111]),d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[84],d[108]):0),d[85]="misinfo_metadata",d[29]=d[1].get(d[85]),d[29]?d[30]=!1:d[30]=!0,d[30]?0:(d[29]?d[107]=!1:d[107]=!0,d[107]?d[108]=void 0:(d[111]=new c.Map(),d[114]="has_misinfo",d[112]=d[29].get(d[114]),d[112]!==void 0?d[111].set(d[114],d[112]):0,d[115]="misinfo_source",d[113]=d[29].get(d[115]),d[113]!==void 0?d[111].set(d[115],d[113]):0,d[108]=d[111]),d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[85],d[108]):0),d[86]="forwarded_message",d[31]=d[1].get(d[86]),d[31]?d[32]=!1:d[32]=!0,d[32]?0:(d[31]?d[107]=!1:d[107]=!0,d[107]?d[108]=void 0:(d[111]=new c.Map(),d[114]="forwarded_from_thread_name",d[112]=d[31].get(d[114]),d[112]!==void 0?d[111].set(d[114],d[112]):0,d[115]="forwarded_from_thread_url",d[113]=d[31].get(d[115]),d[113]!==void 0?d[111].set(d[115],d[113]):0,d[108]=d[111]),d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[86],d[108]):0),d[87]="ai_metadata",d[33]=d[1].get(d[87]),d[33]?d[34]=!1:d[34]=!0,d[34]?0:(d[33]?d[107]=!1:d[107]=!0,d[107]?d[108]=void 0:(d[111]=new c.Map(),d[118]="is_ai_generated",d[112]=d[33].get(d[118]),d[112]!==void 0?d[111].set(d[118],d[112]):0,d[119]="gen_ai_integrity_ent_id",d[113]=d[33].get(d[119]),c.i64.neq(d[113],void 0)?(c.i64.neq(d[113],void 0)?d[124]=c.i64.to_string(d[113]):d[124]=void 0,d[111].set(d[119],d[124])):0,d[120]="ai_product",d[114]=d[33].get(d[120]),d[114]!==void 0?d[111].set(d[120],d[114]):0,d[121]="original_prompt_text",d[115]=d[33].get(d[121]),d[115]!==void 0?d[111].set(d[121],d[115]):0,d[122]="imagine_intent_feature",d[116]=d[33].get(d[122]),d[116]!==void 0?d[111].set(d[122],d[116]):0,d[123]="imagine_media_id",d[117]=d[33].get(d[123]),c.i64.neq(d[117],void 0)?(c.i64.neq(d[117],void 0)?d[124]=c.i64.to_string(d[117]):d[124]=void 0,d[111].set(d[123],d[124])):0,d[108]=d[111]),d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[87],d[108]):0),d[88]="encrypted_message",d[35]=d[1].get(d[88]),d[35]?d[36]=!1:d[36]=!0,d[36]?c.resolve():c.sequence([function(a){return d[35]?d[107]=!1:d[107]=!0,d[107]?c.resolve(d[108]=void 0):c.sequence([function(a){return d[111]=new c.Map(),d[119]="thread_id",d[112]=d[35].get(d[119]),d[112]!==void 0?d[111].set(d[119],d[112]):0,d[120]="offline_threading_id",d[113]=d[35].get(d[120]),d[113]!==void 0?d[111].set(d[120],d[113]):0,d[121]="toplevel_payload",d[114]=d[35].get(d[121]),d[114]?d[115]=!1:d[115]=!0,d[115]?0:(d[124]=new c.Map(),d[130]="encrypted_payload",d[125]=d[114].get(d[130]),d[125]!==void 0?d[124].set(d[130],d[125]):0,d[131]="payloadTimestampMs",d[126]=d[114].get(d[131]),c.i64.neq(d[126],void 0)?d[124].set(d[131],c.i64.to_string(d[126])):0,d[132]="encryption_version",d[127]=d[114].get(d[132]),c.i64.neq(d[127],void 0)?d[124].set(d[132],d[127]):0,d[133]="epoch_id",d[128]=d[114].get(d[133]),c.i64.neq(d[128],void 0)?d[124].set(d[133],c.i64.to_string(d[128])):0,d[134]="epoch_anon_id",d[129]=d[114].get(d[134]),d[129]!==void 0?d[124].set(d[134],d[129]):0,d[111].set(d[121],d[124])),d[122]="supplemental_payloads",d[116]=d[35].get(d[122]),d[116]?d[117]=!1:d[117]=!0,d[117]?c.resolve():c.sequence([function(a){return d[124]=c.createArray(),d[125]=c.i64.of_int32(d[116].length),c.i64.gt(d[125],c.i64.cast([0,0]))?c.loopAsync(d[125],function(a){return d[126]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[116],d[126]).then(function(a){return a=a,d[127]=a[0],d[128]=a[1],a})},function(a){return d[129]=new c.Map(),d[134]="encrypted_supplemental_key",d[130]=d[127].get(d[134]),d[130]!==void 0?d[129].set(d[134],d[130]):0,d[135]="supplemental_key_ciphertext",d[131]=d[127].get(d[135]),d[131]!==void 0?d[129].set(d[135],d[131]):0,d[136]="encrypted_supplemental_payload",d[132]=d[127].get(d[136]),d[132]?d[133]=!1:d[133]=!0,d[133]?0:(d[137]=new c.Map(),d[143]="encrypted_payload",d[138]=d[132].get(d[143]),d[138]!==void 0?d[137].set(d[143],d[138]):0,d[144]="payloadTimestampMs",d[139]=d[132].get(d[144]),c.i64.neq(d[139],void 0)?d[137].set(d[144],c.i64.to_string(d[139])):0,d[145]="encryption_version",d[140]=d[132].get(d[145]),c.i64.neq(d[140],void 0)?d[137].set(d[145],d[140]):0,d[146]="epoch_id",d[141]=d[132].get(d[146]),c.i64.neq(d[141],void 0)?d[137].set(d[146],c.i64.to_string(d[141])):0,d[147]="epoch_anon_id",d[142]=d[132].get(d[147]),d[142]!==void 0?d[137].set(d[147],d[142]):0,d[129].set(d[136],d[137])),d[137]=(d[124].push(d[129]),d[124])}])}):c.resolve()},function(a){return d[111].set(d[122],d[124])}])},function(a){return d[123]="is_open_eb",d[118]=d[35].get(d[123]),d[118]!==void 0?d[111].set(d[123],d[118]):0,d[108]=d[111]}])},function(a){return d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[88],d[108]):0}])},function(a){return d[89]="rich_text",d[37]=d[1].get(d[89]),d[37]?d[38]=!1:d[38]=!0,d[38]?0:(d[37]?d[107]=!1:d[107]=!0,d[107]?d[108]=void 0:(d[111]=new c.Map(),d[113]="rich_text_format_type",d[112]=d[37].get(d[113]),c.i64.neq(d[112],void 0)?d[111].set(d[113],d[112]):0,d[108]=d[111]),d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[89],d[108]):0),d[90]="content_logging_metadata",d[39]=d[1].get(d[90]),d[39]?d[40]=!1:d[40]=!0,d[40]?c.resolve():c.sequence([function(a){return d[39]?d[107]=!1:d[107]=!0,d[107]?c.resolve(d[108]=void 0):c.sequence([function(a){return d[111]=new c.Map(),d[122]="hashed_content",d[112]=d[39].get(d[122]),d[112]!==void 0?d[111].set(d[122],d[112]):0,d[123]="hashed_product_extras",d[113]=d[39].get(d[123]),d[113]!==void 0?d[111].set(d[123],d[113]):0,d[124]="client_metadata",d[114]=d[39].get(d[124]),d[114]?d[115]=!1:d[115]=!0,d[115]?0:(d[114]?d[128]=!1:d[128]=!0,d[128]?d[129]=void 0:(d[132]=d[114].get("__typename"),d[132]==="XMSGStoriesClientMetadata"?(d[134]=new c.Map(),d[136]="story_reply_type",d[135]=d[114].get(d[136]),d[135]!==void 0?d[134].set(d[136],d[135]):0,d[133]=d[134]):d[133]=d[114],d[133].set("__typename",d[132]),d[129]=d[133]),d[130]=d[129].keys(),d[131]=c.i64.of_int32(d[130].length),c.i64.neq(d[131],c.i64.cast([0,0]))?d[111].set(d[124],d[129]):0),d[125]="client_extras",d[116]=d[39].get(d[125]),d[116]?d[117]=!1:d[117]=!0,d[117]?0:(d[116]?d[128]=!1:d[128]=!0,d[128]?d[129]=void 0:(d[132]=d[116].get("__typename"),d[132]==="XMSGMarketplaceClientExtras"?(d[134]=new c.Map(),d[142]="initial_clicked_component",d[135]=d[116].get(d[142]),d[135]!==void 0?d[134].set(d[142],d[135]):0,d[143]="initial_tracking",d[136]=d[116].get(d[143]),d[136]!==void 0?d[134].set(d[143],d[136]):0,d[144]="referral_surface",d[137]=d[116].get(d[144]),d[137]!==void 0?d[134].set(d[144],d[137]):0,d[145]="referral_story_type",d[138]=d[116].get(d[145]),d[138]!==void 0?d[134].set(d[145],d[138]):0,d[146]="referral_ui_component",d[139]=d[116].get(d[146]),d[139]!==void 0?d[134].set(d[146],d[139]):0,d[147]="surface",d[140]=d[116].get(d[147]),d[140]!==void 0?d[134].set(d[147],d[140]):0,d[148]="ui_component",d[141]=d[116].get(d[148]),d[141]!==void 0?d[134].set(d[148],d[141]):0,d[133]=d[134]):d[133]=d[116],d[133].set("__typename",d[132]),d[129]=d[133]),d[130]=d[129].keys(),d[131]=c.i64.of_int32(d[130].length),c.i64.neq(d[131],c.i64.cast([0,0]))?d[111].set(d[125],d[129]):0),d[126]="containing_post",d[118]=d[39].get(d[126]),d[118]?d[119]=!1:d[119]=!0,d[119]?c.resolve():c.sequence([function(a){return d[118]?d[128]=!1:d[128]=!0,d[128]?c.resolve(d[129]=void 0):c.sequence([function(a){return d[132]=new c.Map(),d[140]="key_type",d[133]=d[118].get(d[140]),d[133]!==void 0?d[132].set(d[140],d[133]):0,d[141]="fb_post_type",d[134]=d[118].get(d[141]),d[134]?d[135]=!1:d[135]=!0,d[135]?0:(d[144]=c.i64.of_int32(d[134].length),c.i64.neq(d[144],c.i64.cast([0,0]))?d[132].set(d[141],d[134]):0),d[142]="photos",d[136]=d[118].get(d[142]),d[136]?d[137]=!1:d[137]=!0,d[137]?c.resolve():c.sequence([function(a){return d[136]?d[144]=!1:d[144]=!0,d[144]?c.resolve(d[145]=void 0):c.sequence([function(a){return d[147]=c.createArray(),d[148]=c.i64.of_int32(d[136].length),c.i64.gt(d[148],c.i64.cast([0,0]))?c.loopAsync(d[148],function(a){return d[149]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[136],d[149]).then(function(a){return a=a,d[150]=a[0],d[151]=a[1],a})},function(a){return d[152]=new c.Map(),d[154]="key_type",d[153]=d[150].get(d[154]),d[153]!==void 0?d[152].set(d[154],d[153]):0,d[155]=(d[147].push(d[152]),d[147])}])}):c.resolve()},function(a){return d[145]=d[147]}])},function(a){return d[146]=c.i64.of_int32(d[145].length),c.i64.neq(d[146],c.i64.cast([0,0]))?d[132].set(d[142],d[145]):0}])},function(a){return d[143]="videos",d[138]=d[118].get(d[143]),d[138]?d[139]=!1:d[139]=!0,d[139]?c.resolve():c.sequence([function(a){return d[138]?d[144]=!1:d[144]=!0,d[144]?c.resolve(d[145]=void 0):c.sequence([function(a){return d[147]=c.createArray(),d[148]=c.i64.of_int32(d[138].length),c.i64.gt(d[148],c.i64.cast([0,0]))?c.loopAsync(d[148],function(a){return d[149]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[138],d[149]).then(function(a){return a=a,d[150]=a[0],d[151]=a[1],a})},function(a){return d[152]=new c.Map(),d[154]="key_type",d[153]=d[150].get(d[154]),d[153]!==void 0?d[152].set(d[154],d[153]):0,d[155]=(d[147].push(d[152]),d[147])}])}):c.resolve()},function(a){return d[145]=d[147]}])},function(a){return d[146]=c.i64.of_int32(d[145].length),c.i64.neq(d[146],c.i64.cast([0,0]))?d[132].set(d[143],d[145]):0}])},function(a){return d[129]=d[132]}])},function(a){return d[130]=d[129].keys(),d[131]=c.i64.of_int32(d[130].length),c.i64.neq(d[131],c.i64.cast([0,0]))?d[111].set(d[126],d[129]):0}])},function(a){return d[127]="metadata",d[120]=d[39].get(d[127]),d[120]?d[121]=!1:d[121]=!0,d[121]?0:(d[120]?d[128]=!1:d[128]=!0,d[128]?d[129]=void 0:(d[132]=d[120].get("__typename"),d[132]==="XMSGGroupsContentLoggingMetadata"?(d[134]=new c.Map(),d[136]="num_members",d[135]=d[120].get(d[136]),c.i64.neq(d[135],void 0)?d[134].set(d[136],d[135]):0,d[133]=d[134]):(d[132]==="XMSGStoriesContentLoggingMetadata"?(d[135]=new c.Map(),d[140]="author",d[136]=d[120].get(d[140]),d[136]?d[137]=!1:d[137]=!0,d[137]?0:(d[136]?d[143]=!1:d[143]=!0,d[143]?d[144]=void 0:(d[147]=new c.Map(),d[150]="profile",d[148]=d[136].get(d[150]),d[148]?d[149]=!1:d[149]=!0,d[149]?0:(d[148]?d[151]=!1:d[151]=!0,d[151]?d[152]=void 0:(d[155]=new c.Map(),d[157]="id",d[156]=d[148].get(d[157]),d[156]!==void 0?d[155].set(d[157],d[156]):0,d[152]=d[155]),d[153]=d[152].keys(),d[154]=c.i64.of_int32(d[153].length),c.i64.neq(d[154],c.i64.cast([0,0]))?d[147].set(d[150],d[152]):0),d[144]=d[147]),d[145]=d[144].keys(),d[146]=c.i64.of_int32(d[145].length),c.i64.neq(d[146],c.i64.cast([0,0]))?d[135].set(d[140],d[144]):0),d[141]="post_source",d[138]=d[120].get(d[141]),d[138]!==void 0?d[135].set(d[141],d[138]):0,d[142]="story_type",d[139]=d[120].get(d[142]),d[139]!==void 0?d[135].set(d[142],d[139]):0,d[134]=d[135]):d[134]=d[120],d[133]=d[134]),d[133].set("__typename",d[132]),d[129]=d[133]),d[130]=d[129].keys(),d[131]=c.i64.of_int32(d[130].length),c.i64.neq(d[131],c.i64.cast([0,0]))?d[111].set(d[127],d[129]):0),d[108]=d[111]}])},function(a){return d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[90],d[108]):0}])},function(a){return d[91]="suggested_moderation_actions",d[41]=d[1].get(d[91]),d[41]?d[42]=!1:d[42]=!0,d[42]?c.resolve():c.sequence([function(a){return d[41]?d[107]=!1:d[107]=!0,d[107]?c.resolve(d[108]=void 0):c.sequence([function(a){return d[111]=new c.Map(),d[115]="suggested_moderation_actions_list",d[112]=d[41].get(d[115]),d[112]?d[113]=!1:d[113]=!0,d[113]?c.resolve():c.sequence([function(a){return d[112]?d[117]=!1:d[117]=!0,d[117]?c.resolve(d[118]=void 0):c.sequence([function(a){return d[121]=new c.Map(),d[124]="suggested_moderation_actions",d[122]=d[112].get(d[124]),d[122]?d[123]=!1:d[123]=!0,d[123]?c.resolve():c.sequence([function(a){return d[122]?d[125]=!1:d[125]=!0,d[125]?c.resolve(d[126]=void 0):c.sequence([function(a){return d[128]=c.createArray(),d[129]=c.i64.of_int32(d[122].length),c.i64.gt(d[129],c.i64.cast([0,0]))?c.loopAsync(d[129],function(a){return d[130]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[122],d[130]).then(function(a){return a=a,d[131]=a[0],d[132]=a[1],a})},function(a){return d[133]=new c.Map(),d[136]="primary_action",d[134]=d[131].get(d[136]),d[134]!==void 0?d[133].set(d[136],d[134]):0,d[137]="chained_actions",d[135]=d[131].get(d[137]),d[135]!==void 0?d[133].set(d[137],d[135]):0,d[138]=(d[128].push(d[133]),d[128])}])}):c.resolve()},function(a){return d[126]=d[128]}])},function(a){return d[127]=c.i64.of_int32(d[126].length),c.i64.neq(d[127],c.i64.cast([0,0]))?d[121].set(d[124],d[126]):0}])},function(a){return d[118]=d[121]}])},function(a){return d[119]=d[118].keys(),d[120]=c.i64.of_int32(d[119].length),c.i64.neq(d[120],c.i64.cast([0,0]))?d[111].set(d[115],d[118]):0}])},function(a){return d[116]="suggested_moderation_actions_json",d[114]=d[41].get(d[116]),d[114]!==void 0?d[111].set(d[116],d[114]):0,d[108]=d[111]}])},function(a){return d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[91],d[108]):0}])},function(a){return d[92]="highlights_tab_custom_card_metadata",d[43]=d[1].get(d[92]),d[43]?d[44]=!1:d[44]=!0,d[44]?0:(d[43]?d[107]=!1:d[107]=!0,d[107]?d[108]=void 0:(d[111]=new c.Map(),d[114]="is_custom_card",d[112]=d[43].get(d[114]),d[112]!==void 0?d[111].set(d[114],d[112]):0,d[115]="moment",d[113]=d[43].get(d[115]),d[113]!==void 0?d[111].set(d[115],d[113]):0,d[108]=d[111]),d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[92],d[108]):0),d[93]="highlights_tab_metadata",d[45]=d[1].get(d[93]),d[45]?d[46]=!1:d[46]=!0,d[46]?0:(d[45]?d[107]=!1:d[107]=!0,d[107]?d[108]=void 0:(d[111]=new c.Map(),d[117]="reply_source_type",d[112]=d[45].get(d[117]),d[112]!==void 0?d[111].set(d[117],d[112]):0,d[118]="reply_metadata",d[113]=d[45].get(d[118]),d[113]?d[114]=!1:d[114]=!0,d[114]?0:(d[113]?d[120]=!1:d[120]=!0,d[120]?d[121]=void 0:(d[124]=d[113].get("__typename"),d[124]==="XMSGHighlightsTabBirthdayReplyMetadata"?(d[126]=new c.Map(),d[128]="birthday_age",d[127]=d[113].get(d[128]),c.i64.neq(d[127],void 0)?d[126].set(d[128],d[127]):0,d[125]=d[126]):(d[124]==="XMSGHighlightsTabAttributionReplyMetadata"?(d[127]=new c.Map(),d[129]="entry_point",d[128]=d[113].get(d[129]),c.i64.neq(d[128],void 0)?d[127].set(d[129],d[128]):0,d[126]=d[127]):d[126]=d[113],d[125]=d[126]),d[125].set("__typename",d[124]),d[121]=d[125]),d[122]=d[121].keys(),d[123]=c.i64.of_int32(d[122].length),c.i64.neq(d[123],c.i64.cast([0,0]))?d[111].set(d[118],d[121]):0),d[119]="moment_card_metadata",d[115]=d[45].get(d[119]),d[115]?d[116]=!1:d[116]=!0,d[116]?0:(d[115]?d[120]=!1:d[120]=!0,d[120]?d[121]=void 0:(d[124]=new c.Map(),d[126]="moment_card_type",d[125]=d[115].get(d[126]),d[125]!==void 0?d[124].set(d[126],d[125]):0,d[121]=d[124]),d[122]=d[121].keys(),d[123]=c.i64.of_int32(d[122].length),c.i64.neq(d[123],c.i64.cast([0,0]))?d[111].set(d[119],d[121]):0),d[108]=d[111]),d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[93],d[108]):0),d[94]="business_thread_response_feedback",d[47]=d[1].get(d[94]),d[47]?d[48]=!1:d[48]=!0,d[48]?0:(d[47]?d[107]=!1:d[107]=!0,d[107]?d[108]=void 0:(d[111]=new c.Map(),d[113]="is_feedback_button_enabled_for_message",d[112]=d[47].get(d[113]),d[112]!==void 0?d[111].set(d[113],d[112]):0,d[108]=d[111]),d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[94],d[108]):0),d[95]="live_shopping_metadata",d[49]=d[1].get(d[95]),d[49]?d[50]=!1:d[50]=!0,d[50]?0:(d[49]?d[107]=!1:d[107]=!0,d[107]?d[108]=void 0:(d[111]=new c.Map(),d[113]="referral_post_id",d[112]=d[49].get(d[113]),d[112]!==void 0?d[111].set(d[113],d[112]):0,d[108]=d[111]),d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[95],d[108]):0),d[96]="reply_metadata",d[51]=d[1].get(d[96]),d[51]?d[52]=!1:d[52]=!0,d[52]?0:(d[51]?d[107]=!1:d[107]=!0,d[107]?d[108]=void 0:(d[111]=new c.Map(),d[113]="is_markdown",d[112]=d[51].get(d[113]),d[112]!==void 0?d[111].set(d[113],d[112]):0,d[108]=d[111]),d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[96],d[108]):0),d[97]="mustache_cta",d[53]=d[1].get(d[97]),d[53]?d[54]=!1:d[54]=!0,d[54]?0:(d[53]?d[107]=!1:d[107]=!0,d[107]?d[108]=void 0:(d[111]=new c.Map(),d[115]="cta_type",d[112]=d[53].get(d[115]),d[112]!==void 0?d[111].set(d[115],d[112]):0,d[116]="title",d[113]=d[53].get(d[116]),d[113]!==void 0?d[111].set(d[116],d[113]):0,d[117]="action_url",d[114]=d[53].get(d[117]),d[114]!==void 0?d[111].set(d[117],d[114]):0,d[108]=d[111]),d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[97],d[108]):0),d[98]="inline_entities",d[55]=d[1].get(d[98]),d[55]?d[56]=!1:d[56]=!0,d[56]?c.resolve():c.sequence([function(a){return d[55]?d[107]=!1:d[107]=!0,d[107]?c.resolve(d[108]=void 0):c.sequence([function(a){return d[111]=new c.Map(),d[116]="entities",d[112]=d[55].get(d[116]),d[112]?d[113]=!1:d[113]=!0,d[113]?c.resolve():c.sequence([function(a){return d[119]=c.createArray(),d[120]=c.i64.of_int32(d[112].length),c.i64.gt(d[120],c.i64.cast([0,0]))?c.loopAsync(d[120],function(a){return d[121]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[112],d[121]).then(function(a){return a=a,d[122]=a[0],d[123]=a[1],a})},function(a){return d[124]=new c.Map(),d[133]="offset",d[125]=d[122].get(d[133]),c.i64.neq(d[125],void 0)?d[124].set(d[133],d[125]):0,d[134]="length",d[126]=d[122].get(d[134]),c.i64.neq(d[126],void 0)?d[124].set(d[134],d[126]):0,d[135]="type",d[127]=d[122].get(d[135]),d[127]!==void 0?d[124].set(d[135],d[127]):0,d[136]="metadata",d[128]=d[122].get(d[136]),d[128]?d[129]=!1:d[129]=!0,d[129]?c.resolve():c.sequence([function(a){return d[128]?d[140]=!1:d[140]=!0,d[140]?c.resolve(d[141]=void 0):c.sequence([function(a){return d[144]=new c.Map(),d[151]="search_query",d[145]=d[128].get(d[151]),d[145]!==void 0?d[144].set(d[151],d[145]):0,d[152]="reminder_topic",d[146]=d[128].get(d[152]),d[146]!==void 0?d[144].set(d[152],d[146]):0,d[153]="thread_surfing_metadata",d[147]=d[128].get(d[153]),d[147]?d[148]=!1:d[148]=!0,d[148]?c.resolve():c.sequence([function(a){return d[147]?d[155]=!1:d[155]=!0,d[155]?c.resolve(d[156]=void 0):c.sequence([function(a){return d[159]=new c.Map(),d[165]="matched_entity",d[160]=d[147].get(d[165]),d[160]!==void 0?d[159].set(d[165],d[160]):0,d[166]="prompts",d[161]=d[147].get(d[166]),d[161]?d[162]=!1:d[162]=!0,d[162]?0:d[159].set(d[166],d[161]),d[167]="thread_surfing_prompts",d[163]=d[147].get(d[167]),d[163]?d[164]=!1:d[164]=!0,d[164]?c.resolve():c.sequence([function(a){return d[163]?d[168]=!1:d[168]=!0,d[168]?c.resolve(d[169]=void 0):c.sequence([function(a){return d[171]=c.createArray(),d[172]=c.i64.of_int32(d[163].length),c.i64.gt(d[172],c.i64.cast([0,0]))?c.loopAsync(d[172],function(a){return d[173]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[163],d[173]).then(function(a){return a=a,d[174]=a[0],d[175]=a[1],a})},function(a){return d[176]=new c.Map(),d[179]="prompt",d[177]=d[174].get(d[179]),d[177]!==void 0?d[176].set(d[179],d[177]):0,d[180]="prompt_id",d[178]=d[174].get(d[180]),d[178]!==void 0?d[176].set(d[180],d[178]):0,d[181]=(d[171].push(d[176]),d[171])}])}):c.resolve()},function(a){return d[169]=d[171]}])},function(a){return d[170]=c.i64.of_int32(d[169].length),c.i64.neq(d[170],c.i64.cast([0,0]))?d[159].set(d[167],d[169]):0}])},function(a){return d[156]=d[159]}])},function(a){return d[157]=d[156].keys(),d[158]=c.i64.of_int32(d[157].length),c.i64.neq(d[158],c.i64.cast([0,0]))?d[144].set(d[153],d[156]):0}])},function(a){return d[154]="ai_lookup_metadata",d[149]=d[128].get(d[154]),d[149]?d[150]=!1:d[150]=!0,d[150]?0:(d[149]?d[155]=!1:d[155]=!0,d[155]?d[156]=void 0:(d[159]=new c.Map(),d[162]="entity_type",d[160]=d[149].get(d[162]),d[160]!==void 0?d[159].set(d[162],d[160]):0,d[163]="action_type",d[161]=d[149].get(d[163]),d[161]!==void 0?d[159].set(d[163],d[161]):0,d[156]=d[159]),d[157]=d[156].keys(),d[158]=c.i64.of_int32(d[157].length),c.i64.neq(d[158],c.i64.cast([0,0]))?d[144].set(d[154],d[156]):0),d[141]=d[144]}])},function(a){return d[142]=d[141].keys(),d[143]=c.i64.of_int32(d[142].length),c.i64.neq(d[143],c.i64.cast([0,0]))?d[124].set(d[136],d[141]):0}])},function(a){return d[137]="action_label",d[130]=d[122].get(d[137]),d[130]!==void 0?d[124].set(d[137],d[130]):0,d[138]="context_token",d[131]=d[122].get(d[138]),d[131]!==void 0?d[124].set(d[138],d[131]):0,d[139]="context_token_type",d[132]=d[122].get(d[139]),c.i64.neq(d[132],void 0)?d[124].set(d[139],d[132]):0,d[140]=(d[119].push(d[124]),d[119])}])}):c.resolve()},function(a){return d[111].set(d[116],d[119])}])},function(a){return d[117]="inference_timestamp_ms",d[114]=d[55].get(d[117]),c.i64.neq(d[114],void 0)?(c.i64.neq(d[114],void 0)?d[119]=c.i64.to_string(d[114]):d[119]=void 0,d[111].set(d[117],d[119])):0,d[118]="inference_model_version",d[115]=d[55].get(d[118]),c.i64.neq(d[115],void 0)?d[111].set(d[118],d[115]):0,d[108]=d[111]}])},function(a){return d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[98],d[108]):0}])},function(a){return d[99]="note_metadata",d[57]=d[1].get(d[99]),d[57]?d[58]=!1:d[58]=!0,d[58]?c.resolve():c.sequence([function(a){return d[57]?d[107]=!1:d[107]=!0,d[107]?c.resolve(d[108]=void 0):c.sequence([function(a){return d[111]=new c.Map(),d[120]="message_type",d[112]=d[57].get(d[120]),d[112]!==void 0?d[111].set(d[120],d[112]):0,d[121]="note_type",d[113]=d[57].get(d[121]),c.i64.neq(d[113],void 0)?d[111].set(d[121],d[113]):0,d[122]="mentions",d[114]=d[57].get(d[122]),d[114]?d[115]=!1:d[115]=!0,d[115]?c.resolve():c.sequence([function(a){return d[126]=c.createArray(),d[127]=c.i64.of_int32(d[114].length),c.i64.gt(d[127],c.i64.cast([0,0]))?c.loopAsync(d[127],function(a){return d[128]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[114],d[128]).then(function(a){return a=a,d[129]=a[0],d[130]=a[1],a})},function(a){return d[131]=new c.Map(),d[134]="offset",d[132]=d[129].get(d[134]),c.i64.neq(d[132],void 0)?d[131].set(d[134],d[132]):0,d[135]="length",d[133]=d[129].get(d[135]),c.i64.neq(d[133],void 0)?d[131].set(d[135],d[133]):0,d[136]=(d[126].push(d[131]),d[126])}])}):c.resolve()},function(a){return d[111].set(d[122],d[126])}])},function(a){return d[123]="expiration_timestamp_ms",d[116]=d[57].get(d[123]),c.i64.neq(d[116],void 0)?d[111].set(d[123],c.i64.to_string(d[116])):0,d[124]="note_id",d[117]=d[57].get(d[124]),c.i64.neq(d[117],void 0)?d[111].set(d[124],d[117]):0,d[125]="game_note_info",d[118]=d[57].get(d[125]),d[118]?d[119]=!1:d[119]=!0,d[119]?0:(d[118]?d[126]=!1:d[126]=!0,d[126]?d[127]=void 0:(d[130]=new c.Map(),d[133]="offset",d[131]=d[118].get(d[133]),c.i64.neq(d[131],void 0)?d[130].set(d[133],d[131]):0,d[134]="length",d[132]=d[118].get(d[134]),c.i64.neq(d[132],void 0)?d[130].set(d[134],d[132]):0,d[127]=d[130]),d[128]=d[127].keys(),d[129]=c.i64.of_int32(d[128].length),c.i64.neq(d[129],c.i64.cast([0,0]))?d[111].set(d[125],d[127]):0),d[108]=d[111]}])},function(a){return d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[99],d[108]):0}])},function(a){return d[100]="ai_bot_summon_metadata",d[59]=d[1].get(d[100]),d[59]?d[60]=!1:d[60]=!0,d[60]?0:(d[59]?d[107]=!1:d[107]=!0,d[107]?d[108]=void 0:(d[111]=new c.Map(),d[116]="is_e2ee_summon_message",d[112]=d[59].get(d[116]),d[112]!==void 0?d[111].set(d[116],d[112]):0,d[117]="thread_session_id",d[113]=d[59].get(d[117]),d[113]!==void 0?d[111].set(d[117],d[113]):0,d[118]="is_subsequent_send",d[114]=d[59].get(d[118]),d[114]!==void 0?d[111].set(d[118],d[114]):0,d[119]="entrypoint",d[115]=d[59].get(d[119]),d[115]!==void 0?d[111].set(d[119],d[115]):0,d[108]=d[111]),d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[100],d[108]):0),d[101]="ai_forwarded_metadata",d[61]=d[1].get(d[101]),d[61]?d[62]=!1:d[62]=!0,d[62]?0:(d[61]?d[107]=!1:d[107]=!0,d[107]?d[108]=void 0:(d[111]=new c.Map(),d[113]="is_generated_by_meta_ai",d[112]=d[61].get(d[113]),d[112]!==void 0?d[111].set(d[113],d[112]):0,d[108]=d[111]),d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[101],d[108]):0),d[102]="transcription_metadata",d[63]=d[1].get(d[102]),d[63]?d[64]=!1:d[64]=!0,d[64]?0:(d[63]?d[107]=!1:d[107]=!0,d[107]?d[108]=void 0:(d[111]=new c.Map(),d[114]="text",d[112]=d[63].get(d[114]),d[112]!==void 0?d[111].set(d[114],d[112]):0,d[115]="status",d[113]=d[63].get(d[115]),d[113]!==void 0?d[111].set(d[115],d[113]):0,d[108]=d[111]),d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[102],d[108]):0),d[103]="image_glyphs_metadata",d[65]=d[1].get(d[103]),d[65]?d[66]=!1:d[66]=!0,d[66]?c.resolve():c.sequence([function(a){return d[65]?d[107]=!1:d[107]=!0,d[107]?c.resolve(d[108]=void 0):c.sequence([function(a){return d[111]=new c.Map(),d[114]="image_glyphs",d[112]=d[65].get(d[114]),d[112]?d[113]=!1:d[113]=!0,d[113]?c.resolve():c.sequence([function(a){return d[115]=c.createArray(),d[116]=c.i64.of_int32(d[112].length),c.i64.gt(d[116],c.i64.cast([0,0]))?c.loopAsync(d[116],function(a){return d[117]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[112],d[117]).then(function(a){return a=a,d[118]=a[0],d[119]=a[1],a})},function(a){return d[120]=new c.Map(),d[128]="offset",d[121]=d[118].get(d[128]),c.i64.neq(d[121],void 0)?d[120].set(d[128],d[121]):0,d[129]="length",d[122]=d[118].get(d[129]),c.i64.neq(d[122],void 0)?d[120].set(d[129],d[122]):0,d[130]="type",d[123]=d[118].get(d[130]),d[123]!==void 0?d[120].set(d[130],d[123]):0,d[131]="unique_identifier",d[124]=d[118].get(d[131]),d[124]!==void 0?d[120].set(d[131],d[124]):0,d[132]="content_description",d[125]=d[118].get(d[132]),d[125]!==void 0?d[120].set(d[132],d[125]):0,d[133]="uniform_type_identifier",d[126]=d[118].get(d[133]),d[126]!==void 0?d[120].set(d[133],d[126]):0,d[134]="fallback_text",d[127]=d[118].get(d[134]),d[127]!==void 0?d[120].set(d[134],d[127]):0,d[135]=(d[115].push(d[120]),d[115])}])}):c.resolve()},function(a){return d[111].set(d[114],d[115])}])},function(a){return d[108]=d[111]}])},function(a){return d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[103],d[108]):0}])},function(a){return d[104]="contextual_menu_actions",d[67]=d[1].get(d[104]),d[67]?d[68]=!1:d[68]=!0,d[68]?0:(d[67]?d[107]=!1:d[107]=!0,d[107]?d[108]=void 0:(d[111]=new c.Map(),d[114]="ai_invocation_options",d[112]=d[67].get(d[114]),d[112]?d[113]=!1:d[113]=!0,d[113]?0:(d[115]=c.i64.of_int32(d[112].length),c.i64.neq(d[115],c.i64.cast([0,0]))?d[111].set(d[114],d[112]):0),d[108]=d[111]),d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[104],d[108]):0),d[105]="media_accessibility_metadata",d[69]=d[1].get(d[105]),d[69]?d[70]=!1:d[70]=!0,d[70]?0:(d[69]?d[107]=!1:d[107]=!0,d[107]?d[108]=void 0:(d[111]=new c.Map(),d[113]="alt_text",d[112]=d[69].get(d[113]),d[112]!==void 0?d[111].set(d[113],d[112]):0,d[108]=d[111]),d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[105],d[108]):0),d[106]="oculus_media_context_metadata",d[71]=d[1].get(d[106]),d[71]?d[72]=!1:d[72]=!0,d[72]?0:(d[71]?d[107]=!1:d[107]=!0,d[107]?d[108]=void 0:(d[111]=new c.Map(),d[114]="type",d[112]=d[71].get(d[114]),d[112]!==void 0?d[111].set(d[114],d[112]):0,d[115]="fbid",d[113]=d[71].get(d[115]),d[113]!==void 0?d[111].set(d[115],d[113]):0,d[108]=d[111]),d[109]=d[108].keys(),d[110]=c.i64.of_int32(d[109].length),c.i64.neq(d[110],c.i64.cast([0,0]))?d[6].set(d[106],d[108]):0),d[73]=c.toJSON(d[6]),d[5]=d[73]}])},function(b){return c.forEach(c.filter(c.db.table(12).fetch([[[a[0],a[1],a[2]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.timestampMs,a[1])&&b.messageId===a[2]}),function(b){var c=b.update;b.item;return c({adminMsgCtaId:d[0],adminMsgCtaTitle:a[3],adminMsgCtaType:a[4],metadataDataclass:d[5]})})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxApplyAdminMessageCTAStoredProcedure";a.__tables__=["admin_message_ctas","messages"];e.exports=a}),null);