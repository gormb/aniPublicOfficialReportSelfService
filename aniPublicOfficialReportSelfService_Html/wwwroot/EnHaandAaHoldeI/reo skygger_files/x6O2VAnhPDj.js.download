;/*FB_PKG_DELIM*/

__d("MAWThreadMappingUtils",["FBLogger","LSMessagingThreadTypeUtil","MAWJids","MAWMiActOnActThreadReadyInstrumentation","Promise","ReQL","ReQLSubscribe","asyncToGeneratorRuntime","err","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=3e4;function j(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b)));if(a==null){c("FBLogger")("messenger_e2ee_web").mustfix("[onActThreadReady] Thread is not ready to be used.");return null}return d("LSMessagingThreadTypeUtil").isGroup(a.threadType)});return k.apply(this,arguments)}function l(a,e){return(h||(h=b("Promise"))).all([j(a,e),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table).getKeyRange(e))]).then(function(a){var b=a[0];a=a[1];if(a==null||b==null){c("FBLogger")("messenger_e2ee_web").mustfix("[onActThreadReady] Thread is not ready to be used.");return null}return d("MAWJids").convertIntJidToChatJid(a.jid,b)})}function m(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table).getKeyRange(b)).then(function(a){if(a==null){c("FBLogger")("messenger_e2ee_web").mustfix("[onActThreadReady] Thread is not ready to be used.");return null}return a.jid})}function a(a,b,c){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g,k=null,m=(g=d("MAWMiActOnActThreadReadyInstrumentation")).getOnActThreadReadyInstanceKey(f);g.startQPL(m,f,e,"getChatJidOnceInThreadMappingTable");g.addPointQPL(m,"get_existing_int_jid_from_mapping_table_start");f=(yield l(a.tables,e));g.addPointQPL(m,"get_existing_int_jid_from_mapping_table_end");if(f!=null){d("MAWMiActOnActThreadReadyInstrumentation").endSuccessQPL(m);return(h||(h=b("Promise"))).resolve(f)}var n=(yield j(a.tables,e));if(n==null){d("MAWMiActOnActThreadReadyInstrumentation").endFailureQPL(m,"thread_not_ready_to_be_used");throw c("err")("Thread is not ready to be used.")}d("MAWMiActOnActThreadReadyInstrumentation").addPointQPL(m,"subscribe_to_mapping_table_start");return new(h||(h=b("Promise")))(function(b,f){var g=d("ReQL").fromTableDescending(a.tables.mi_act_mapping_table).getKeyRange(e),h=d("ReQLSubscribe").subscribeToFirst(g,function(a){a!=null&&(k!=null&&window.clearTimeout(k),h(),d("MAWMiActOnActThreadReadyInstrumentation").addPointQPL(m,"subscribe_to_mapping_table_end"),d("MAWMiActOnActThreadReadyInstrumentation").endSuccessQPL(m),b(d("MAWJids").convertIntJidToChatJid(a.jid,n)))});k=c("setTimeout")(function(){h(),d("MAWMiActOnActThreadReadyInstrumentation").endFailureQPL(m,"subscribe_to_mapping_table_timeout"),f(c("err")("Timeout waiting for int jid to be populated in mapping table."))},i)})});return n.apply(this,arguments)}function e(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g,j=null,k=(g=d("MAWMiActOnActThreadReadyInstrumentation")).getOnActThreadReadyInstanceKey(f);g.startQPL(k,f,e,"getIntJidOnceInThreadMappingTable");g.addPointQPL(k,"get_existing_int_jid_from_mapping_table_start");f=(yield m(a.tables,e));g.addPointQPL(k,"get_existing_int_jid_from_mapping_table_end");if(f!=null){d("MAWMiActOnActThreadReadyInstrumentation").endSuccessQPL(k);return(h||(h=b("Promise"))).resolve(f)}d("MAWMiActOnActThreadReadyInstrumentation").addPointQPL(k,"subscribe_to_mapping_table_start");return new(h||(h=b("Promise")))(function(b,f){var g=d("ReQL").fromTableDescending(a.tables.mi_act_mapping_table).getKeyRange(e),h=d("ReQLSubscribe").subscribeToFirst(g,function(a){a!=null&&(j!=null&&window.clearTimeout(j),h(),d("MAWMiActOnActThreadReadyInstrumentation").addPointQPL(k,"subscribe_to_mapping_table_end"),d("MAWMiActOnActThreadReadyInstrumentation").endSuccessQPL(k),b(a.jid))});j=c("setTimeout")(function(){h(),d("MAWMiActOnActThreadReadyInstrumentation").endFailureQPL(k,"subscribe_to_mapping_table_timeout"),f(c("err")("Timeout waiting for int jid to be populated in mapping table."))},i)})});return o.apply(this,arguments)}g.isThreadGroup=j;g.getChatJidFromMappingTable=l;g.getIntJidFromMappingTable=m;g.getChatJidOnceInThreadMappingTable=a;g.getIntJidOnceInThreadMappingTable=e}),98);
__d("MDSSvgIcon.react",["CometSVGIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(7),e=a.children,f=a.color,g=a.dataTestId,h=a.inline,j=a.size;a=a.viewBox;h=h===void 0?!1:h;j=j===void 0?24:j;a=a===void 0?"0 0 36 36":a;var k;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==j||b[5]!==a?(k=i.jsx(c("CometSVGIcon.react"),{color:f,"data-testid":void 0,inline:h,size:j,viewBox:a,children:e}),b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=j,b[5]=a,b[6]=k):k=b[6];return k}g["default"]=a}),98);