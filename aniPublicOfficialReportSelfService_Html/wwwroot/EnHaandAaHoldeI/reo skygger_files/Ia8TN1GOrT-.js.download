;/*FB_PKG_DELIM*/

__d("MAWFetchXMABlob",["FBLogger","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var d=a.descriptionForLogging,e=a.url,f=a.xmaContentType;return e==null||e===""?(h||(h=b("Promise"))).resolve():window.fetch(e).then(function(a){return a.blob()})["catch"](function(a){c("FBLogger")("messenger_web_sharing").mustfix("Error fetching url in xma share from %s, with XMA content type %s and error %s",d,f,a);return(h||(h=b("Promise"))).resolve()})}g.fetchBlob=a}),98);
__d("MAWFetchXMADataUtils",["FBLogger","LSXmaContentType","MAWFetchXMABlob","MAWGetImageSpec","MAWParseXMAFBConfig","Promise","WAArmadilloXMA.pb","asyncToGeneratorRuntime","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i={failed_to_fetch_blob_for_xma_share:"Failed to fetch blob xma data for MAWShareAttachent",failed_to_fetch_json_for_xma_share:"Failed execute MAWShareAttachment_LinkPreviewQuery for MAWShareAttachent",failed_to_parse_json_for_xma_share:"Failed to fetch blob xma data for MAWShareAttachent"};function a(a){var b=Object.entries(c("LSXmaContentType")).find(function(b){var c=b[0];b=b[1];return a===b&&d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE[c]!=null});b=b!=null?d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE[b[0]]:void 0;if(b===void 0)return void 0;if(!d("MAWParseXMAFBConfig").isFBSupportedTargetType({fbTargetType:b,silentExposure:!0})){c("FBLogger")("messenger_web_sharing").mustfix("Unsupported XMA Target Type in sending path: "+b);return d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE}return b}function e(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=a.favicon_blob,f=a.header_image_blob,g=a.overlayIconGlyph;a=a.preview_blob;a=a==null?void 0:new File([a],"preview",{type:a.type});e=e==null?void 0:new File([e],"favicon",{type:e.type});f=f==null?void 0:new File([f],"header",{type:f.type});g=g===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE?(h||(h=b("Promise"))).resolve({height:2,width:2}):a!=null?d("MAWGetImageSpec").getImageSpec_DEPRECATED(a):(h||(h=b("Promise"))).resolve();var i=e!=null?d("MAWGetImageSpec").getImageSpec_DEPRECATED(e):(h||(h=b("Promise"))).resolve(),j=f!=null?d("MAWGetImageSpec").getImageSpec_DEPRECATED(f):(h||(h=b("Promise"))).resolve();g=(yield (h||(h=b("Promise"))).all([g,i,j]));i=g[0];j=g[1];g=g[2];d("sendToSentQPLLogger").markSendToSentPoint(c,"preview_favicon_spec_ready");c=a==null||i==null?void 0:{file:a,height:i.height,width:i.width};a=e==null||j==null?void 0:{file:e,height:j.height,width:j.width};i=f==null||g==null?void 0:{file:f,height:g.height,width:g.width};return{faviconFileArgs:a,headerImageFileArgs:i,previewFileArgs:c}});return j.apply(this,arguments)}function f(a,b,c,d,e,f){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,j,k){a=(yield (h||(h=b("Promise"))).all([[(a==null?void 0:a.startsWith("ls"))===!0?null:a,"favicon"],[e,"image"],[f,"preview"],[g,"header_image"]].map(function(a){return d("MAWFetchXMABlob").fetchBlob({descriptionForLogging:"MAWFetchXMAData_"+a[1],url:a[0],xmaContentType:k}).then(function(a){return(a=a)!=null?a:void 0})}))["catch"](function(a){j.forEach(function(a){d("sendToSentQPLLogger").markSendToSentFail(a,"failed_to_fetch_blob_for_xma_share")});c("FBLogger")("messenger_web_sharing").catching(a).mustfix(i.failed_to_fetch_blob_for_xma_share);return[void 0,void 0,void 0,void 0]}));e=a[0];f=a[1];g=a[2];a=a[3];return[e,f,g,a]});return k.apply(this,arguments)}g.XMA_DATA_ERRORS=i;g.convertXmaContentTypeToMessageType=a;g.makeXMAFileArgs=e;g.getPreviewBlobs=f}),98);
__d("MAWFetchXMAData_LinkPreviewQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9587615014622528"}),null);
__d("MAWFetchXMAData_LinkPreviewQuery.graphql",["MAWFetchXMAData_LinkPreviewQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"maxPreviewHeight"},c={defaultValue:null,kind:"LocalArgument",name:"maxPreviewWidth"},d={defaultValue:null,kind:"LocalArgument",name:"url"},e=[{alias:null,args:[{fields:[{kind:"Variable",name:"maxPreviewHeight",variableName:"maxPreviewHeight"},{kind:"Variable",name:"maxPreviewWidth",variableName:"maxPreviewWidth"},{kind:"Variable",name:"url",variableName:"url"}],kind:"ObjectValue",name:"params"}],kind:"ScalarField",name:"post_reshare_xma",storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"MAWFetchXMAData_LinkPreviewQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,c,a],kind:"Operation",name:"MAWFetchXMAData_LinkPreviewQuery",selections:e},params:{id:b("MAWFetchXMAData_LinkPreviewQuery_facebookRelayOperation"),metadata:{},name:"MAWFetchXMAData_LinkPreviewQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MAWFetchXMAData_fetchXmaPreviewDataQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9286351034819880"}),null);
__d("MAWFetchXMAData_fetchXmaPreviewDataQuery.graphql",["MAWFetchXMAData_fetchXmaPreviewDataQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"url"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"url",variableName:"url"}],kind:"ObjectValue",name:"params"}],concreteType:"XFBXMAPreviewData",kind:"LinkedField",name:"xma_preview_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_receiver_fetch_supported",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_public",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"default_cta_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"header_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"xma_content_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favicon_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"header_image_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview_url",storageKey:null},{alias:null,args:null,concreteType:"XFBXMAPreviewDataCtaDataConnection",kind:"LinkedField",name:"cta_data",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBXMACtaData",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cta_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cta_action_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cta_native_url",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MAWFetchXMAData_fetchXmaPreviewDataQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MAWFetchXMAData_fetchXmaPreviewDataQuery",selections:c},params:{id:b("MAWFetchXMAData_fetchXmaPreviewDataQuery_facebookRelayOperation"),metadata:{},name:"MAWFetchXMAData_fetchXmaPreviewDataQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MAWUnshimUrl",["CometLinkShimUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return void 0;var b=d("CometLinkShimUtils").getLinkShimInfo(a,void 0,void 0,void 0,void 0,!0);return!b.shimmed?a:b.unshimmedHref}g.unshimUrl=a}),98);
__d("isReceiverFetchSenderSideEnabled",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("3390")===!0}g["default"]=a}),98);
__d("MAWFetchXMAData",["fbt","CometRelay","ConstUriUtils","FBLogger","LSXmaContentType","MAWFetchXMADataUtils","MAWFetchXMAData_LinkPreviewQuery.graphql","MAWFetchXMAData_fetchXmaPreviewDataQuery.graphql","MAWUnshimUrl","MSGDataclassTypes.flow","WAArmadilloXMA.pb","asyncToGeneratorRuntime","getJSEnumSafe","isReceiverFetchSenderSideEnabled","isStringNullOrEmpty","justknobx","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function k(a,b){b.forEach(function(a){d("sendToSentQPLLogger").addSendToSentAnnotations(a,{string:{xma_data_result:"private"}})});return{defaultCTA:{actionUrl:d("MAWUnshimUrl").unshimUrl(a),buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:d("MAWUnshimUrl").unshimUrl(a),title:h._(/*BTDS*/"__JHASH__l7kNV274w6c__JHASH__").toString()},linkType:"internal",overlayIconGlyph:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE,preview_blob:void 0,title_text:h._(/*BTDS*/"__JHASH__2usVu04y012__JHASH__").toString()}}function l(a,e){return d("CometRelay").fetchQuery(a,i!==void 0?i:i=b("MAWFetchXMAData_LinkPreviewQuery.graphql"),{maxPreviewHeight:c("justknobx")._("1769"),maxPreviewWidth:c("justknobx")._("1769"),url:e}).toPromise()}function m(a,b,c){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f;try{f=JSON.parse(b)}catch(a){throw c("FBLogger")("messenger_web_sharing").catching(a).mustfixThrow(d("MAWFetchXMADataUtils").XMA_DATA_ERRORS.failed_to_parse_json_for_xma_share)}b=f;var g=b.action_url,h=b.ctas,i=b.default_cta_title,j=b.favicon_url,k=b.header_image_url,l=b.header_title,m=b.image_url,n=b.preview_url,o=b.subtitle_text,p=b.title_text;b=b.xma_content_type;b=b;j=(yield d("MAWFetchXMADataUtils").getPreviewBlobs(j,m,n,k,e,b));m=j[0];n=j[1];k=j[2];e=j[3];j=h;h=d("MAWFetchXMADataUtils").convertXmaContentTypeToMessageType(b);b=j==null?void 0:j[0];g=d("MAWUnshimUrl").unshimUrl((g=(g=g)!=null?g:b==null?void 0:b.action_url)!=null?g:a);a=d("MAWUnshimUrl").unshimUrl((b==null?void 0:b.native_url)!=null&&(b==null?void 0:b.native_url)!==""?b==null?void 0:b.native_url:g);g={actionUrl:g,buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:a,title:(b=i)!=null?b:void 0};return{ctas:j==null?void 0:j.map(function(a){return{actionUrl:d("MAWUnshimUrl").unshimUrl(a.action_url!=null&&a.action_url!==""?a.action_url:void 0),buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:d("MAWUnshimUrl").unshimUrl(a.native_url!=null&&a.native_url!==""?a.native_url:void 0),title:(a=a.title)!=null?a:void 0}}),defaultCTA:g,favicon_blob:(a=m)!=null?a:void 0,header_image_blob:(i=e)!=null?i:void 0,header_title:(b=l)!=null?b:void 0,image_blob:(j=n)!=null?j:void 0,linkType:"internal",preview_blob:(g=k)!=null?g:void 0,subtitle_text:(m=o)!=null?m:void 0,title_text:(a=p)!=null?a:void 0,xma_message_type:h}});return n.apply(this,arguments)}function o(a,c){return d("CometRelay").fetchQuery(a,j!==void 0?j:j=b("MAWFetchXMAData_fetchXmaPreviewDataQuery.graphql"),{url:c}).toPromise()}function p(a,b,c){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){a=(yield o(a,b)["catch"](function(a){e.forEach(function(b){d("sendToSentQPLLogger").markSendToSentFail(b,"failed_to_fetch_json_for_xma_share",a)}),c("FBLogger")("messenger_web_sharing").catching(a).mustfix(d("MAWFetchXMADataUtils").XMA_DATA_ERRORS.failed_to_fetch_json_for_xma_share)}));e.forEach(function(a){d("sendToSentQPLLogger").markSendToSentPoint(a,"fetch_json_for_xma_share_end")});a=a==null?void 0:a.xma_preview_data;if(a==null){e.forEach(function(a){d("sendToSentQPLLogger").addSendToSentAnnotations(a,{string:{xma_data_result:"empty"}})});return{linkType:"unknown"}}if(a.is_public!==!0)return k(b,e);e.forEach(function(a){d("sendToSentQPLLogger").addSendToSentAnnotations(a,{string:{xma_data_result:"public"}})});b={defaultCTA:{actionUrl:d("MAWUnshimUrl").unshimUrl(b),buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:d("MAWUnshimUrl").unshimUrl(b),title:(b=a.default_cta_title)!=null?b:void 0},linkType:"internal",title_text:(b=(b=a.title_text)!=null?b:a.header_title)!=null?b:void 0};var f=a.post_id,g=a.is_receiver_fetch_supported===!0;if(g&&f!=null){g={__typename:"XMSGMsgrXmaContentRefDataclass",action_type:d("MSGDataclassTypes.flow").XmsgMsgrXmaActionType.Share,content_type:d("MSGDataclassTypes.flow").XmsgMsgrReceiverFetchContentType.Statusupdate,fetch_params:{__typename:"XMSGMsgrReceiverFetchXmaStatusUpdateFetchParams",post_id:f},xma_content_type:c("getJSEnumSafe")(c("LSXmaContentType"),a.xma_content_type),xma_layout_type:d("MSGDataclassTypes.flow").XmsgMsgrReceiverFetchXmaLayoutType.Single};return babelHelpers["extends"]({},b,{contentRef:JSON.stringify(g),xma_message_type:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH})}f=a.xma_content_type;g=(yield d("MAWFetchXMADataUtils").getPreviewBlobs(a.favicon_url,null,a.preview_url,a.header_image_url,e,f));var h=g[0];g[1];var i=g[2];g=g[3];return babelHelpers["extends"]({},b,{ctas:(b=a.cta_data)==null?void 0:(b=b.nodes)==null?void 0:b.map(function(a){var b=d("MAWUnshimUrl").unshimUrl(c("isStringNullOrEmpty")(a.cta_action_url)?void 0:a.cta_action_url),e=d("MAWUnshimUrl").unshimUrl(c("isStringNullOrEmpty")(a.cta_native_url)?void 0:a.cta_native_url);return{actionUrl:b,buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,ctaType:"xma_web_url",nativeUrl:e,title:(b=a.cta_title)!=null?b:void 0}}),favicon_blob:(b=h)!=null?b:void 0,header_image_blob:(h=g)!=null?h:void 0,header_title:c("isStringNullOrEmpty")(a.title_text)?void 0:(b=a.header_title)!=null?b:void 0,preview_blob:(g=i)!=null?g:void 0,subtitle_text:(h=a.subtitle_text)!=null?h:void 0,xma_message_type:d("MAWFetchXMADataUtils").convertXmaContentTypeToMessageType(f)})});return q.apply(this,arguments)}function a(a,b,c){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){b=d("ConstUriUtils").getUri(b);b=b==null?void 0:(b=b.setSubDomain("www"))==null?void 0:b.toString();if(b==null)return{linkType:"unknown"};var f=c("isReceiverFetchSenderSideEnabled")();e.forEach(function(a){d("sendToSentQPLLogger").markSendToSentPoint(a,"fetch_json_for_xma_share_start"),d("sendToSentQPLLogger").addSendToSentAnnotations(a,{bool:{is_rf_enabled:f}})});if(f)return p(a,b,e);a=(yield l(a,b)["catch"](function(a){e.forEach(function(b){d("sendToSentQPLLogger").markSendToSentFail(b,"failed_to_fetch_json_for_xma_share",a)}),c("FBLogger")("messenger_web_sharing").catching(a).mustfix(d("MAWFetchXMADataUtils").XMA_DATA_ERRORS.failed_to_fetch_json_for_xma_share)}));e.forEach(function(a){d("sendToSentQPLLogger").markSendToSentPoint(a,"fetch_json_for_xma_share_end")});if(a==null){e.forEach(function(a){d("sendToSentQPLLogger").addSendToSentAnnotations(a,{string:{xma_data_result:"empty"}})});return{linkType:"unknown"}}a=a.post_reshare_xma;if(a==null){e.forEach(function(a){d("sendToSentQPLLogger").addSendToSentAnnotations(a,{string:{xma_data_result:"external"}})});return{linkType:"external"}}if(a==="private")return k(b,e);e.forEach(function(a){d("sendToSentQPLLogger").addSendToSentAnnotations(a,{string:{xma_data_result:"public"}})});return m(b,a,e)});return r.apply(this,arguments)}g.fetchXMAData=a}),226);
__d("MAWGetProtocolMsgIdByMsgIdInUI",["I64","LSDatabaseSingleton","MAWBridgeSendAndReceive","MAWMpsGating","MAWThreadMappingUtils","WAJids","WAStanzaUtils","asyncToGeneratorRuntime","cr:11152"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("WAJids").createJidUtils({platform:"msgr"});function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=(yield (h||(h=d("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue());return c.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=(yield b.messages.index("messageId").get(a));if(c==null)return null;b=(yield d("MAWThreadMappingUtils").getChatJidFromMappingTable(b,c.threadKey));if(b!=null)return{author:j.toUserJid((i||(i=d("I64"))).to_float(c.senderId).toString()),chat:b,externalId:d("WAStanzaUtils").toStanzaId(c.offlineThreadingId)}});return function(a){return c.apply(this,arguments)}}(),"readonly",void 0,void 0,f.id+":36")});return l.apply(this,arguments)}a=function(a){if(d("MAWMpsGating").isFullMpsEnabled())return k(a);return b("cr:11152")!=null?b("cr:11152").MAWGetProtocolMsgIdByMsgIdInUIIDB(a):m(a)};var m=function(a){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getProtocolMsgIdByMsgId",{msgId:a})};g.getProtocolMsgIdByMsgIdUI=a}),98);
__d("MAWMessageSendReporter",["FBLogger","MAWReportSendMessageSuccessResult","MWLogSendToSentFailedError","QPLUserFlow","WAGetSafeQPLError","asyncToGeneratorRuntime","cr:12058","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,d){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){var g=e.qplEventType;e=e.qplInstanceKey;try{b=(yield b);if(b==null)return;if(b.success)b.value!=null?d("MAWReportSendMessageSuccessResult").reportSendMessageSuccessResultFn(b.value):c("QPLUserFlow").addPoint(g,"no-op",{instanceKey:e}),c("QPLUserFlow").endSuccess(g,{instanceKey:e});else{var h,j=b.error.isRetriable===!0;c("MWLogSendToSentFailedError")({qplEventType:g,qplInstanceKey:e},b.error.type,void 0,b.error.errorCode,b.error.applicationErrorCode);c("QPLUserFlow").endFailure(g,b.error.type,{annotations:{bool:{isRetriable:(h=b.error.isRetriable)!=null?h:!1},"int":{errorCode:(h=b.error.errorCode)!=null?h:0},string:{details:(h=b.error.details)!=null?h:""}},instanceKey:e});i(a,j,f)}}catch(b){c("MWLogSendToSentFailedError")({qplEventType:g,qplInstanceKey:e},"runtime-failure",b),c("QPLUserFlow").endFailure(g,"runtime-failure",{annotations:{string:{errorDescription:d("WAGetSafeQPLError").getSafeQPLErrorMessage(b)}},instanceKey:e}),i(a,!1,f,b),c("FBLogger")("messenger_e2ee_web").catching(b).mustfix("MAWMessageSendReporter")}});return h.apply(this,arguments)}function i(a,e,f,g){if(a==null)return;var h=a.chatJid;a=a.externalId;c("promiseDone")(b("cr:12058").markMessageSendAsFailed(a,h,d("WAGetSafeQPLError").getSafeQPLErrorMessage(g),f,e))}g.MAWMessageSendReporter=a}),98);
__d("MAWSecureComposerText",["Lexical","LexicalText","MAWJids","MessengerLexicalActorNode","MessengerLexicalEntityTextNode"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.read(function(){var a=d("Lexical").$getRoot().getFirstChild();return a instanceof d("Lexical").ElementNode?a.getChildren().reduce(function(a,b){var c=d("MessengerLexicalActorNode").$isMessengerLexicalActorNode(b)&&b.getRangeType()==="t";if(d("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(b)&&!c){c=b.getEntity();return a+("@"+d("MAWJids").toUserJid(c.id))}return a+b.getTextContent()},""):d("LexicalText").$rootTextContent()})}g.getTextFromEditorState=a}),98);